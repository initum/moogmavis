!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";n.r(t);n(2),n(1);var i=8,o=9,a=13,r=37,s=39,l=46,u=188,c=",",x="placeholder pattern spellcheck autocomplete autocapitalize autofocus accessKey accept lang minLength maxLength required".split(" ");function d(e){function t(e,t,n,i){var o=document.createElement(e);for(var a in t&&(o.className=t),n&&(o.textContent=n),i)o.setAttribute("data-".concat(a),i[a]);return o}function n(e,t){return!0===t?Array.prototype.slice.call(w.querySelectorAll(e)):w.querySelector(e)}function d(){return n(".tag",!0).map(function(e){return e.textContent}).concat(w.input.value||[]).join(c)}function y(){e.value=d(),e.dispatchEvent(new Event("change"))}function m(i){if(~i.indexOf(c)&&(i=i.split(c)),Array.isArray(i))return i.forEach(m);var o=i&&i.trim();if(!o)return!1;if(!e.getAttribute("duplicates")){var a=n('[data-tag="'.concat(o,'"]'));if(a)return a.classList.add("dupe"),setTimeout(function(){return a.classList.remove("dupe")},100),!1}w.insertBefore(t("span","tag",o,{tag:o}),w.input)}function p(e){var t=n(".selected");t&&t.classList.remove("selected"),e&&e.classList.add("selected")}function h(){var e=n(".tag",!0).pop(),t=w.offsetWidth;t&&(w.input.style.width=Math.max(t-(e?e.offsetLeft+e.offsetWidth:5)-5,t/4)+"px")}function f(e){"string"==typeof e||Array.isArray(e)||(e=w.input.value),!1!==m(e)&&(w.input.value="",y(),h())}function g(e){return e.target.classList.contains("tag")&&p(e.target),e.target===w.input?p():(w.input.focus(),e.preventDefault(),!1)}var w=t("div","tags-input"),O=e.nextSibling;e.parentNode[O?"insertBefore":"appendChild"](w,O),e.style.cssText="position:absolute;left:0;top:-99px;width:1px;height:1px;opacity:0.01;",e.tabIndex=-1;var E=e.getAttribute("type");E&&"tags"!==E||(E="text"),w.input=t("input"),w.input.setAttribute("type",E),x.forEach(function(t){if(e[t]!==w.input[t]){w.input[t]=e[t];try{delete e[t]}catch(e){}}}),w.appendChild(w.input),e.addEventListener("focus",function(){w.input.focus()}),w.input.addEventListener("focus",function(){w.classList.add("focus"),p()}),w.input.addEventListener("blur",function(){w.classList.remove("focus"),p(),f()}),w.input.addEventListener("keydown",function(e){var t=w.input,c=e.keyCode||e.which,x=n(".tag.selected"),d=function(e){try{return 0===e.selectionStart&&0===e.selectionEnd}catch(t){return""===e.value}}(t),m=n(".tag",!0).pop();if(h(),c===a||c===u||c===o){if(!t.value&&c!==u)return;f()}else if(c===l&&x)x.nextSibling!==w.input&&p(x.nextSibling),w.removeChild(x),h(),y();else if(c===i)if(x)p(x.previousSibling),w.removeChild(x),h(),y();else{if(!m||!d)return;p(m)}else if(c===r)if(x)x.previousSibling&&p(x.previousSibling);else{if(!d)return;p(m)}else{if(c!==s)return p();if(!x)return;p(x.nextSibling)}return e.preventDefault(),!1}),w.input.addEventListener("input",function(){e.value=d(),e.dispatchEvent(new Event("input"))}),w.input.addEventListener("paste",function(){return setTimeout(f,0)}),w.addEventListener("mousedown",g),w.addEventListener("touchstart",g),w.setValue=function(e){n(".tag",!0).forEach(function(e){return w.removeChild(e)}),f(e)},w.getValue=d,f(e.value)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}d.enhance=d.tagsInput=d;var p=["#ff3366","#ff6633","#FFCC33","#33FF66","#33FFCC","#33CCFF","#3366FF","#6633FF","#CC33FF","#efefef"],h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.deviceName,i=t.canvasWidth,o=t.canvasHeight,a=t.buttons,r=t.knobs,s=t.connectors,l=t.toggles,u=t.lights,c=t.initialValues,x=t.buttonOptions,d=t.connectorOptions,y=t.knobTypes,m=t.toggleOptions,h=t.lightOptions,f=t.images;this.canvas=document.querySelector("canvas[data-device='".concat(n,"']")),this.ctx=this.canvas.getContext("2d"),this.raf,this.canvasWidth=i,this.canvasHeight=o,this.cableColors=p,this.lastCableColorIdx=0,this.knobs=r||[],this.connectors=s||[],this.buttons=a||[],this.toggles=l||[],this.lights=u||[],this.knobTypes=y,this.buttonOptions=x,this.connectorOptions=d,this.toggleOptions=m,this.lightOptions=h,this.patchCableOutput=document.getElementById("patch-cable-output"),this.patchCableData=document.getElementById("patch_data"),this.savePatchButton=document.getElementById("save-patch"),this.patchTitleInput=document.getElementById("patch_title"),this.patchAuthorInput=document.getElementById("patch_author"),this.patchNotesInput=document.getElementById("patch_notes"),this.patchTagsInput=document.getElementById("patch_tags"),this.patchScreenshotCanvas=document.getElementById("patch_screenshot_canvas"),this.patchScreenshotCtx,this.patchScreenshotCanvas&&(this.patchScreenshotCtx=this.patchScreenshotCanvas.getContext("2d")),this.patchScreenshotImage=document.getElementById("patch_screenshot_image"),this.dragging=!1,this.dragFromIdx,this.dragFromInput=!1,this.dragColor,this.dragToX,this.dragToY,this.dragToIdx,this.turning=!1,this.turnKnobIdx,this.turnOldValue,this.turnNewValue,this.turnPreviousY,this.connections=c.connections||[],this.knobValues=c.knobValues||[],this.buttonValues=c.buttonValues||[],this.toggleValues=c.toggleValues||[],this.lightValues=c.lightValues||{},this.loadPatchData(),this.updatePatchCableOutput(),this.addAllEventListeners(),this.images=this.loadImages(f),this.requestRedraw()}return function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(e,[{key:"requestRedraw",value:function(){var e=this;this.raf=window.requestAnimationFrame(function(){return e.draw()})}},{key:"draw",value:function(){var e=this;if(this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.save(),this.ctx.drawImage(this.images.panel,0,0),this.ctx.restore(),this.knobs.forEach(function(t){return e.drawKnob(t)}),this.buttons.forEach(function(t){return e.drawButton(t)}),this.toggles.forEach(function(t){return e.drawToggle(t)}),this.connections.forEach(function(t){return e.drawConnection(t)}),this.drawLights(),this.dragging){var t=this.connectors[this.dragFromIdx],n={x:this.dragToX,y:this.dragToY};this.drawCable(t,n,this.dragColor)}(this.dragging||this.turning)&&this.requestRedraw()}},{key:"drawKnob",value:function(e){var t=this.knobValues[e.idx],n=this.images.knobs[e.type];if(n){this.knobTypes[e.type];this.ctx.save(),this.ctx.translate(e.x,e.y),this.ctx.rotate(t*Math.PI/180),this.ctx.drawImage(n,-n.width/2,-n.height/2),this.ctx.restore()}}},{key:"drawConnection",value:function(e){var t=this.connectors[e.from],n=this.connectors[e.to];this.drawCable(t,n,e.color)}},{key:"drawCable",value:function(e,t,n){this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=n,this.ctx.lineWidth=this.connectorOptions.cableWidth||4,this.ctx.moveTo(e.x,e.y);var i=Math.abs(e.x-t.x),o=Math.min(e.x,t.x)+i/2,a=Math.max(e.y,t.y)+160;this.ctx.quadraticCurveTo(o,a,t.x,t.y),this.ctx.stroke(),this.ctx.restore()}},{key:"drawButton",value:function(e){var t=this.buttonValues[e.idx],n=this.images.buttons[t?"on":"off"];this.ctx.save(),t&&(this.ctx.shadowBlur=10,this.ctx.shadowColor="blue"),this.ctx.drawImage(n,e.x,e.y),this.ctx.restore()}},{key:"drawToggle",value:function(e){var t=this.toggleValues[e.idx],n=this.toggleOptions.types[e.type].values[t],i=this.images.toggles[n];this.ctx.save(),this.ctx.drawImage(i,e.x,e.y),this.ctx.restore()}},{key:"drawLights",value:function(){}},{key:"loadImages",value:function(e){var t=this,n={};for(var i in e)if(e.hasOwnProperty(i))if("string"==typeof e[i])n[i]=new Image,n[i].addEventListener("load",function(){return t.requestRedraw()}),n[i].src=e[i];else for(var o in n[i]=n[i]||{},e[i])e[i].hasOwnProperty(o)&&(n[i][o]=new Image,n[i][o].addEventListener("load",function(){return t.requestRedraw()}),n[i][o].src=e[i][o]);return n}},{key:"nextCableColor",value:function(){return this.lastCableColorIdx=++this.lastCableColorIdx%this.cableColors.length,this.cableColors[this.lastCableColorIdx]}},{key:"isIntersect",value:function(e,t,n){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))<n}},{key:"updatePatchCableOutput",value:function(){var e=this;if(this.patchCableOutput&&(this.patchCableOutput.innerHTML=this.connections.map(function(t){var n=y([t.from,t.to].sort(function(e,t){return t-e}),2),i=n[0],o=n[1],a=e.connectors[i],r=e.connectors[o],s=t.color;return a.input?"".concat(r.name,'<span style="color: ').concat(s,'"> &#10230; </span>').concat(a.name):"".concat(a.name,'<span style="color: ').concat(s,'"> &#10230; </span>').concat(r.name)}).join("<br/>")),this.patchCableData){var t={connections:this.connections,knobValues:this.knobValues,buttonValues:this.buttonValues,toggleValues:this.toggleValues,lightValues:this.lightValues};this.patchCableData.value=JSON.stringify(t)}this.patchScreenshotCtx}},{key:"loadPatchData",value:function(){if(this.patchCableData&&""!=this.patchCableData.value&&"{}"!=this.patchCableData.value){var e=JSON.parse(this.patchCableData.value);this.connections=e.connections,this.knobValues=e.knobValues,this.buttonValues=e.buttonValues,this.toggleValues=e.toggleValues,e.lightValues&&(this.lightValues=e.lightValues)}}},{key:"onButtonClick",value:function(e){return!1}},{key:"onToggleClick",value:function(e){var t=this.toggleOptions.types[e.type].values.length;this.toggleValues[e.idx]=++this.toggleValues[e.idx]%t}},{key:"addAllEventListeners",value:function(){var e=this;this.canvas.onselectstart=function(){return!1},this.canvas.addEventListener("mousedown",function(t){var n=e.getMousePos(e.canvas,t);e.connectors.forEach(function(t){if(e.isIntersect(n,t,e.connectorOptions.cellRadius)){t.input;e.dragging=!0,e.dragFromIdx=t.idx,e.dragFromInput=t.input,e.dragToX=n.x,e.dragToY=n.y,e.dragColor=e.nextCableColor(),e.requestRedraw()}}),e.knobs.forEach(function(t){var i=e.knobTypes[t.type];e.isIntersect(n,t,i.radius)&&(e.turning=!0,e.turnKnobIdx=t.idx,e.turnPreviousY=n.y,e.turnOldValue=t.value,e.turnNewValue=t.value,e.requestRedraw())}),e.buttons.forEach(function(t){var i={x:t.x+e.buttonOptions.width/2,y:t.y+e.buttonOptions.height/2};e.isIntersect(n,i,e.buttonOptions.width)&&(e.onButtonClick(t),e.updatePatchCableOutput(),e.requestRedraw())}),e.toggles.forEach(function(t){var i={x:t.x+e.toggleOptions.width/2,y:t.y+e.toggleOptions.height/2};e.isIntersect(n,i,e.toggleOptions.width)&&(e.onToggleClick(t),e.updatePatchCableOutput(),e.requestRedraw())})},!1),this.canvas.addEventListener("mousemove",function(t){if(e.dragging||e.turning){var n=e.getMousePos(e.canvas,t);if(e.dragging&&(e.dragToX=n.x,e.dragToY=n.y,e.connectors.forEach(function(t){if(e.isIntersect(n,t,e.connectorOptions.cellRadius))t.input})),e.turning){var i=e.knobs[e.turnKnobIdx],o=e.knobTypes[i.type];e.knobValues[e.turnKnobIdx]+=2*(e.turnPreviousY-n.y),e.knobValues[e.turnKnobIdx]=Math.max(e.knobValues[e.turnKnobIdx],0),e.knobValues[e.turnKnobIdx]=Math.min(e.knobValues[e.turnKnobIdx],o.limit),e.turnPreviousY=n.y}}},!1),this.canvas.addEventListener("mouseup",function(t){if(e.dragging||e.turning){var n={x:e.dragToX,y:e.dragToY};e.dragging&&(e.connectors.forEach(function(t){if(e.isIntersect(n,t,e.connectorOptions.cellRadius)){t.input;if(e.dragFromInput!=t.input){var i=e.connections.findIndex(function(n){return n.from===e.dragFromIdx&&n.to===t.idx||n.from===t.idx&&n.to===e.dragFromIdx});i>-1?e.connections.splice(i,1):e.connections.push({from:e.dragFromIdx,to:t.idx,color:e.dragColor}),e.updatePatchCableOutput()}}}),e.dragging=!1),e.turning&&(e.updatePatchCableOutput(),e.turning=!1)}},!1),this.canvas.addEventListener("mouseleave",function(t){e.dragging=!1,e.turning=!1},!1),this.canvas.addEventListener("touchstart",function(t){e.getTouchPos(e.canvas,t);var n=t.touches[0],i=new MouseEvent("mousedown",{clientX:n.clientX,clientY:n.clientY});e.canvas.dispatchEvent(i)},!1),this.canvas.addEventListener("touchmove",function(t){e.getTouchPos(e.canvas,t);var n=t.touches[0],i=new MouseEvent("mousemove",{clientX:n.clientX,clientY:n.clientY});e.canvas.dispatchEvent(i)},!1),this.canvas.addEventListener("touchend",function(t){var n=new MouseEvent("mouseup",{});e.canvas.dispatchEvent(n)},!1),document.body.addEventListener("touchstart",function(t){t.target==e.canvas&&t.preventDefault()},{passive:!1}),document.body.addEventListener("touchend",function(t){t.target==e.canvas&&t.preventDefault()},{passive:!1}),document.body.addEventListener("touchmove",function(t){t.target==e.canvas&&t.preventDefault()},{passive:!1})}},{key:"getMousePos",value:function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}},{key:"getTouchPos",value:function(e,t){var n=e.getBoundingClientRect();return{x:t.touches[0].clientX-n.left,y:t.touches[0].clientY-n.top}}}]),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=1598,C=530,v=12,V=[{idx:0,col:0,row:0,x:1215,y:81,name:"OSC1",input:!0},{idx:1,col:0,row:1,x:1215,y:131,name:"SHAPE1",input:!0},{idx:2,col:0,row:2,x:1215,y:182,name:"VCF IN",input:!0},{idx:3,col:0,row:3,x:1215,y:232,name:"VCA IN",input:!0},{idx:4,col:0,row:4,x:1215,y:283,name:"E.GATE1",input:!0},{idx:5,col:0,row:5,x:1215,y:333,name:"LFO RATE",input:!0},{idx:6,col:0,row:6,x:1215,y:384,name:"ATT1 IN",input:!0},{idx:7,col:0,row:7,x:1215,y:434,name:"SUM 1(A)",input:!0},{idx:8,col:1,row:0,x:1268,y:81,name:"OSC2",input:!0},{idx:9,col:1,row:1,x:1268,y:131,name:"SHAPE2",input:!0},{idx:10,col:1,row:2,x:1268,y:182,name:"FREQ MOD",input:!0},{idx:11,col:1,row:3,x:1268,y:232,name:"VCA CV",input:!0},{idx:12,col:1,row:4,x:1268,y:283,name:"E.GATE2",input:!0},{idx:13,col:1,row:5,x:1268,y:333,name:"LFO SHAPE",input:!0},{idx:14,col:1,row:6,x:1268,y:384,name:"ATT1 CV",input:!0},{idx:15,col:1,row:7,x:1268,y:434,name:"SUM 1(B)",input:!0},{idx:16,col:2,row:0,x:1321,y:81,name:"OSC1+2",input:!0},{idx:17,col:2,row:1,x:1321,y:131,name:"PW1",input:!0},{idx:18,col:2,row:2,x:1321,y:182,name:"RES",input:!0},{idx:19,col:2,row:3,x:1321,y:232,name:"DELAY IN",input:!0},{idx:20,col:2,row:4,x:1321,y:283,name:"S&H IN",input:!0},{idx:21,col:2,row:5,x:1321,y:333,name:"LFO TRIG",input:!0},{idx:22,col:2,row:6,x:1321,y:384,name:"ATT2 IN",input:!0},{idx:23,col:2,row:7,x:1321,y:434,name:"SUM 2(A)",input:!0},{idx:24,col:3,row:0,x:1374,y:81,name:"INVERT IN",input:!0},{idx:25,col:3,row:1,x:1374,y:131,name:"PW2",input:!0},{idx:26,col:3,row:2,x:1374,y:182,name:"OD IN",input:!0},{idx:27,col:3,row:3,x:1374,y:232,name:"DELAY TIME",input:!0},{idx:28,col:3,row:4,x:1374,y:283,name:"S&H CLOCK",input:!0},{idx:29,col:3,row:5,x:1374,y:333,name:"MULT",input:!0},{idx:30,col:3,row:6,x:1374,y:384,name:"SLEW IN",input:!0},{idx:31,col:3,row:7,x:1374,y:434,name:"SUM 2(B)",input:!0},{idx:32,col:4,row:0,x:1426,y:81,name:"OSC1",input:!1},{idx:33,col:4,row:1,x:1426,y:131,name:"VCF1",input:!1},{idx:34,col:4,row:2,x:1426,y:182,name:"VCA",input:!1},{idx:35,col:4,row:3,x:1426,y:232,name:"ENV1",input:!1},{idx:36,col:4,row:4,x:1426,y:283,name:"LFO",input:!1},{idx:37,col:4,row:5,x:1426,y:333,name:"MULT1",input:!1},{idx:38,col:4,row:6,x:1426,y:384,name:"ATT1",input:!1},{idx:39,col:4,row:7,x:1426,y:434,name:"SUM1",input:!1},{idx:40,col:5,row:0,x:1479,y:81,name:"OSC2",input:!1},{idx:41,col:5,row:1,x:1479,y:131,name:"VCF2",input:!1},{idx:42,col:5,row:2,x:1479,y:182,name:"OUTPUT",input:!1},{idx:43,col:5,row:3,x:1479,y:232,name:"ENV2",input:!1},{idx:44,col:5,row:4,x:1479,y:283,name:"LFO UNI",input:!1},{idx:45,col:5,row:5,x:1479,y:333,name:"MULT2",input:!1},{idx:46,col:5,row:6,x:1479,y:384,name:"ATT2",input:!1},{idx:47,col:5,row:7,x:1479,y:434,name:"SUM2",input:!1},{idx:48,col:6,row:0,x:1532,y:81,name:"OSC MIX",input:!1},{idx:49,col:6,row:1,x:1532,y:131,name:"OVERDRIVE",input:!1},{idx:50,col:6,row:2,x:1532,y:182,name:"NOISE",input:!1},{idx:51,col:6,row:3,x:1532,y:232,name:"INVERT",input:!1},{idx:52,col:6,row:4,x:1532,y:283,name:"S&H",input:!1},{idx:53,col:6,row:5,x:1532,y:333,name:"MIDI GATE",input:!1},{idx:54,col:6,row:6,x:1532,y:384,name:"SLEW",input:!1},{idx:55,col:6,row:7,x:1532,y:434,name:"ASSIGN",input:!1}],S=[{idx:0,x:131,y:178,type:"large",name:"OSC1 TUNE"},{idx:1,x:317,y:179,type:"large",name:"OSC2 TUNE"},{idx:2,x:225,y:126,type:"small",name:"OSC MIX"},{idx:3,x:131,y:425,type:"small",name:"OSC1 WIDTH"},{idx:4,x:317,y:425,type:"small",name:"OSC2 WIDTH"},{idx:5,x:463,y:87,type:"small",name:"VCF FREQ"},{idx:6,x:463,y:200,type:"small",name:"VCF RESONANCE"},{idx:7,x:463,y:313,type:"small",name:"VCF MOD DEPTH"},{idx:8,x:463,y:425,type:"small",name:"VCF ENV DEPTH"},{idx:9,x:655,y:87,type:"small",name:"LFO RATE"},{idx:10,x:607,y:185,type:"medium",name:"LFO SHAPE"},{idx:11,x:559,y:313,type:"small",name:"NOISE"},{idx:12,x:559,y:425,type:"small",name:"VCA BIAS"},{idx:13,x:750,y:87,type:"small",name:"DELAY TIME"},{idx:14,x:847,y:87,type:"small",name:"DELAY REPEATS"},{idx:15,x:943,y:87,type:"small",name:"DELAY MIX"},{idx:16,x:750,y:200,type:"small",name:"OVERDRIVE DRIVE"},{idx:17,x:847,y:200,type:"small",name:"OVERDRIVE TONE"},{idx:18,x:943,y:200,type:"small",name:"OVERDRIVE LEVEL"},{idx:19,x:655,y:313,type:"small",name:"ENV1 ATTACK"},{idx:20,x:750,y:313,type:"small",name:"ENV1 DECAY"},{idx:21,x:847,y:313,type:"small",name:"ENV1 SUSTAIN"},{idx:22,x:943,y:313,type:"small",name:"ENV1 RELEASE"},{idx:23,x:655,y:425,type:"small",name:"ENV2 ATTACK"},{idx:24,x:750,y:425,type:"small",name:"ENV2 DECAY"},{idx:25,x:847,y:425,type:"small",name:"ENV2 SUSTAIN"},{idx:26,x:943,y:425,type:"small",name:"ENV2 RELEASE"},{idx:27,x:1039,y:87,type:"small",name:"OUTPUT VOLUME"},{idx:28,x:1039,y:200,type:"small",name:"S&H RATE"},{idx:29,x:1135,y:200,type:"small",name:"S&H GLIDE"},{idx:30,x:1039,y:313,type:"small",name:"SLEW RATE"},{idx:31,x:1135,y:313,type:"small",name:"PORTA TIME"},{idx:32,x:1039,y:425,type:"small",name:"ATTENUATOR 1"},{idx:33,x:1135,y:425,type:"small",name:"ATTENUATOR 2"},{idx:34,x:131,y:313,type:"none",name:"OSC1 SHAPE"},{idx:35,x:317,y:313,type:"none",name:"OSC2 SHAPE"}],T={large:{radius:50,limit:300},medium:{radius:40,limit:300},small:{radius:30,limit:300},none:{radius:30,limit:300}},I=[{idx:0,x:182.5,y:313,name:"OSC1 RANGE"},{idx:1,x:238,y:313,name:"OSC2 RANGE"},{idx:2,x:388,y:74,name:"VCF MODE"},{idx:3,x:210,y:371,name:"OSC SYNC"},{idx:4,x:210,y:423.5,name:"PARAPHONIC"},{idx:5,x:449,y:248,name:"VCF KEY TRK"},{idx:6,x:545,y:74,name:"LFO KEY SYNC"}],A=27,L=26,M=[{idx:0,x:81,y:365},{idx:1,x:81,y:337},{idx:2,x:81,y:308},{idx:3,x:81,y:278},{idx:4,x:81,y:250},{idx:5,x:357,y:250},{idx:6,x:357,y:278},{idx:7,x:357,y:308},{idx:8,x:357,y:337},{idx:9,x:357,y:365},{idx:10,x:573,y:220},{idx:11,x:557,y:166},{idx:12,x:602,y:133},{idx:13,x:647,y:166},{idx:14,x:631,y:220},{idx:15,x:196,y:280},{idx:16,x:196,y:251},{idx:17,x:196,y:221},{idx:18,x:242,y:280},{idx:19,x:242,y:251},{idx:20,x:242,y:221},{idx:21,x:396,y:172},{idx:22,x:396,y:147},{idx:23,x:396,y:123}],D={"OSC1 SHAPE":0,"OSC2 SHAPE":5,"LFO SHAPE":10,"OSC1 RANGE":15,"OSC2 RANGE":18,"VCF MODE":21},P=function(){var e=Array(36).fill(150);return e[7]=0,e[8]=0,e[11]=0,e[12]=0,e[29]=0,e[30]=0,e[31]=0,e[32]=0,e[33]=0,e[34]=0,e[35]=300,e};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=1697,U=730,G=6,H=12,Y=[{idx:0,col:0,row:0,x:1457,y:97,name:"TRIGGER",input:!0},{idx:1,col:0,row:1,x:1457,y:170,name:"VELOCITY",input:!0},{idx:2,col:0,row:2,x:1457,y:243,name:"EXT AUDIO",input:!0},{idx:3,col:0,row:3,x:1457,y:315,name:"NOISE LEVEL",input:!0},{idx:4,col:0,row:4,x:1457,y:387,name:"VCF MOD",input:!0},{idx:5,col:0,row:5,x:1457,y:458,name:"1>2 FM AMOUNT",input:!0},{idx:6,col:0,row:6,x:1457,y:529,name:"TEMPO",input:!0},{idx:7,col:0,row:7,x:1457,y:601,name:"TRIGGER",input:!1},{idx:8,col:1,row:0,x:1530,y:97,name:"VCA CV",input:!0},{idx:9,col:1,row:1,x:1530,y:170,name:"VCA DECAY",input:!0},{idx:10,col:1,row:2,x:1530,y:243,name:"VCF DECAY",input:!0},{idx:11,col:1,row:3,x:1530,y:315,name:"VCO DECAY",input:!0},{idx:12,col:1,row:4,x:1530,y:387,name:"VCO 1 CV",input:!0},{idx:13,col:1,row:5,x:1530,y:458,name:"VCO 2 CV",input:!0},{idx:14,col:1,row:6,x:1530,y:529,name:"RUN/STOP",input:!0},{idx:15,col:1,row:7,x:1530,y:601,name:"VELOCITY",input:!1},{idx:16,col:2,row:0,x:1603,y:97,name:"VCA",input:!1},{idx:17,col:2,row:1,x:1603,y:170,name:"VCA EG",input:!1},{idx:18,col:2,row:2,x:1603,y:243,name:"VCF EG",input:!1},{idx:19,col:2,row:3,x:1603,y:315,name:"VCO EG",input:!1},{idx:20,col:2,row:4,x:1603,y:387,name:"VCO 1",input:!1},{idx:21,col:2,row:5,x:1603,y:458,name:"VCO 2",input:!1},{idx:22,col:2,row:6,x:1603,y:529,name:"ADV/CLOCK",input:!0},{idx:23,col:2,row:7,x:1603,y:601,name:"PITCH",input:!1}],j=[{idx:0,x:135.5,y:133,type:"large",name:"VCO DECAY"},{idx:1,x:135.5,y:305,type:"large",name:"1>2 FM AMOUNT"},{idx:2,x:281,y:472,type:"large",name:"TEMPO"},{idx:3,x:362,y:133,type:"large",name:"VCO 1 EG AMOUNT"},{idx:4,x:362,y:305,type:"large",name:"VCO 2 EG AMOUNT"},{idx:5,x:516,y:133,type:"large",name:"VCO 1 EG FREQUENCY"},{idx:6,x:516,y:305,type:"large",name:"VCO 2 EG FREQUENCY"},{idx:7,x:874,y:307,type:"large",name:"VCF DECAY"},{idx:8,x:958,y:133,type:"large",name:"CUTOFF"},{idx:9,x:1028,y:307,type:"large",name:"VCF EG AMOUNT"},{idx:10,x:1112.5,y:133,type:"large",name:"RESONANCE"},{idx:11,x:1183,y:307,type:"large",name:"NOISE / VCF MOD"},{idx:12,x:1350,y:135,type:"large",name:"VOLUME"},{idx:13,x:1350,y:309,type:"large",name:"VCA DECAY"},{idx:14,x:732,y:106,type:"small",name:"VCO 1 LEVEL"},{idx:15,x:732,y:221,type:"small",name:"NOISE/EXT LEVEL"},{idx:16,x:732,y:337,type:"small",name:"VCO 2 LEVEL"},{idx:17,x:459,y:458,type:"small",name:"PITCH 1"},{idx:18,x:586,y:458,type:"small",name:"PITCH 2"},{idx:19,x:713,y:458,type:"small",name:"PITCH 3"},{idx:20,x:840,y:458,type:"small",name:"PITCH 4"},{idx:21,x:967,y:458,type:"small",name:"PITCH 5"},{idx:22,x:1094,y:458,type:"small",name:"PITCH 6"},{idx:23,x:1221,y:458,type:"small",name:"PITCH 7"},{idx:24,x:1348,y:458,type:"small",name:"PITCH 8"},{idx:25,x:459,y:584,type:"small",name:"VELOCITY 1"},{idx:26,x:586,y:584,type:"small",name:"VELOCITY 2"},{idx:27,x:713,y:584,type:"small",name:"VELOCITY 3"},{idx:28,x:840,y:584,type:"small",name:"VELOCITY 4"},{idx:29,x:967,y:584,type:"small",name:"VELOCITY 5"},{idx:30,x:1094,y:584,type:"small",name:"VELOCITY 6"},{idx:31,x:1221,y:584,type:"small",name:"VELOCITY 7"},{idx:32,x:1348,y:584,type:"small",name:"VELOCITY 8"}],X={large:{radius:55,limit:304},small:{radius:30,limit:300}},B=[{idx:0,x:225,y:114,type:"threeway",name:"SEQ PITCH MOD"},{idx:1,x:227,y:286,type:"twoway",name:"HARD SYNC"},{idx:2,x:608,y:114,type:"twoway",name:"VCO 1 WAVE"},{idx:3,x:608,y:286,type:"twoway",name:"VCO 2 WAVE"},{idx:4,x:816,y:114,type:"twoway",name:"VCF TYPE"},{idx:5,x:1210,y:114,type:"twoway",name:"VCA EG SPEED"}],q={threeway:{values:["mid","down","up"]},twoway:{values:["down","up"]}},W=42,K=42;function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=1524,ee=657,te=6,ne=12,ie=[{idx:0,col:0,row:0,x:1250,y:88,name:"EXT. AUDIO",input:!0},{idx:1,col:0,row:1,x:1250,y:154,name:"NOISE",input:!1},{idx:2,col:0,row:2,x:1250,y:220,name:"VCO 1V/OCT",input:!0},{idx:3,col:0,row:3,x:1250,y:285,name:"VCO MOD",input:!0},{idx:4,col:0,row:4,x:1249,y:350,name:"MIX 1",input:!0},{idx:5,col:0,row:5,x:1249,y:415,name:"MULT",input:!0},{idx:6,col:0,row:6,x:1249,y:480,name:"GATE",input:!0},{idx:7,col:0,row:7,x:1249,y:545,name:"TEMPO",input:!0},{idx:8,col:1,row:0,x:1315,y:88,name:"MIX CV",input:!0},{idx:9,col:1,row:1,x:1315,y:154,name:"VCF CUTOFF",input:!0},{idx:10,col:1,row:2,x:1315,y:220,name:"VCO LIN FM",input:!0},{idx:11,col:1,row:3,x:1315,y:285,name:"LFO RATE",input:!0},{idx:12,col:1,row:4,x:1313,y:350,name:"MIX 2",input:!0},{idx:13,col:1,row:5,x:1313,y:415,name:"MULT 1",input:!1},{idx:14,col:1,row:6,x:1313,y:480,name:"EG",input:!1},{idx:15,col:1,row:7,x:1313,y:545,name:"RUN/STOP",input:!0},{idx:16,col:2,row:0,x:1380,y:88,name:"VCA CV",input:!0},{idx:17,col:2,row:1,x:1380,y:154,name:"VCF RES.",input:!0},{idx:18,col:2,row:2,x:1380,y:220,name:"VCO SAW",input:!1},{idx:19,col:2,row:3,x:1380,y:285,name:"LFO TRI",input:!1},{idx:20,col:2,row:4,x:1377,y:350,name:"VC MIX CTRL",input:!0},{idx:21,col:2,row:5,x:1377,y:415,name:"MULT 2",input:!1},{idx:22,col:2,row:6,x:1377,y:480,name:"KB",input:!1},{idx:23,col:2,row:7,x:1377,y:545,name:"RESET",input:!0},{idx:24,col:3,row:0,x:1445,y:88,name:"VCA",input:!1},{idx:25,col:3,row:1,x:1445,y:154,name:"VCF",input:!1},{idx:26,col:3,row:2,x:1445,y:220,name:"VCO PULSE",input:!1},{idx:27,col:3,row:3,x:1445,y:285,name:"LFO SQ",input:!1},{idx:28,col:3,row:4,x:1443,y:350,name:"VC MIX",input:!1},{idx:29,col:3,row:5,x:1443,y:415,name:"ASSIGN",input:!1},{idx:30,col:3,row:6,x:1443,y:480,name:"GATE",input:!1},{idx:31,col:3,row:7,x:1443,y:545,name:"HOLD",input:!0}],oe=[{idx:0,x:150.5,y:96,type:"large",name:"FREQUENCY"},{idx:1,x:149.5,y:235,type:"large",name:"GLIDE"},{idx:2,x:239.5,y:374,type:"large",name:"TEMPO/GATE LENGTH"},{idx:3,x:427,y:96,type:"large",name:"PULSE WIDTH"},{idx:4,x:427,y:235,type:"large",name:"VCO MOD AMOUNT"},{idx:5,x:426,y:374,type:"large",name:"LFO RATE"},{idx:6,x:565.5,y:96,type:"large",name:"MIX"},{idx:7,x:733,y:96,type:"large",name:"CUTOFF"},{idx:8,x:703,y:374,type:"large",name:"ATTACK"},{idx:9,x:900.5,y:96,type:"large",name:"RESONANCE"},{idx:10,x:981.5,y:235,type:"large",name:"VCF MOD AMOUNT"},{idx:11,x:980.5,y:374,type:"large",name:"DECAY"},{idx:12,x:1120.5,y:96,type:"large",name:"VOLUME"},{idx:13,x:1119,y:374,type:"large",name:"VC MIX"}],ae={large:{radius:47,limit:300}},re=[{idx:0,x:268,y:79,type:"twoway",name:"VCO WAVE"},{idx:1,x:266,y:218,type:"twoway",name:"VCO MOD SOURCE"},{idx:2,x:541,y:218,type:"twoway",name:"VCO MOD DEST"},{idx:3,x:541,y:352,type:"twoway",name:"LFO WAVE"},{idx:4,x:681,y:218,type:"twoway",name:"VCF MODE"},{idx:5,x:821,y:218,type:"twoway",name:"VCF MOD SOURCE"},{idx:6,x:821,y:352,type:"twoway",name:"SUSTAIN"},{idx:7,x:986,y:79,type:"twoway",name:"VCA MODE"},{idx:8,x:1098,y:218,type:"twoway",name:"VCF MOD POLARITY"}],se={twoway:{values:["down","up"]}},le=43,ue=41;function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=1708,pe=723,he=6,fe=12,ge=[{idx:0,col:0,row:0,x:1430,y:90,name:"VCO 1 IN",input:!0},{idx:1,col:0,row:1,x:1430,y:170,name:"VCO 1 OUT",input:!1},{idx:2,col:0,row:2,x:1430,y:243,name:"VCO 2",input:!0},{idx:3,col:0,row:3,x:1430,y:320,name:"VCO 2 OUT",input:!1},{idx:4,col:0,row:4,x:1430,y:397,name:"PLAY",input:!0},{idx:5,col:0,row:5,x:1430,y:470,name:"RHYTHM 1",input:!0},{idx:6,col:0,row:6,x:1430,y:546,name:"SEQ 1",input:!1},{idx:7,col:0,row:7,x:1430,y:622,name:"MIDI IN",input:!0},{idx:8,col:1,row:0,x:1505,y:90,name:"VCO 1 SUB",input:!0},{idx:9,col:1,row:1,x:1505,y:170,name:"VCO 1 SUB 1",input:!1},{idx:10,col:1,row:2,x:1505,y:243,name:"VCO 2 SUB",input:!0},{idx:11,col:1,row:3,x:1505,y:320,name:"VCO 2 SUB 1",input:!1},{idx:12,col:1,row:4,x:1505,y:397,name:"RESET",input:!0},{idx:13,col:1,row:5,x:1505,y:470,name:"RHYTHM 2",input:!0},{idx:14,col:1,row:6,x:1505,y:546,name:"SEQ 1 CLK",input:!1},{idx:15,col:1,row:7,x:1505,y:622,name:"CLOCK",input:!0},{idx:16,col:2,row:0,x:1583,y:90,name:"VCO 1 PWM",input:!0},{idx:17,col:2,row:1,x:1583,y:170,name:"VCO 1 SUB 2",input:!1},{idx:18,col:2,row:2,x:1583,y:243,name:"VCO 2 PWM",input:!0},{idx:19,col:2,row:3,x:1583,y:320,name:"VCO 2 SUB 2",input:!1},{idx:20,col:2,row:4,x:1583,y:397,name:"TRIGGER",input:!0},{idx:21,col:2,row:5,x:1581,y:470,name:"RHYTHM 3",input:!0},{idx:22,col:2,row:6,x:1581,y:546,name:"SEQ 2",input:!1},{idx:23,col:2,row:7,x:1580,y:622,name:"CLOCK",input:!1},{idx:24,col:3,row:0,x:1660,y:90,name:"VCA",input:!1},{idx:25,col:3,row:1,x:1659,y:170,name:"VCA",input:!0},{idx:26,col:3,row:2,x:1659,y:243,name:"VCA EG",input:!1},{idx:27,col:3,row:3,x:1659,y:320,name:"CUTOFF",input:!0},{idx:28,col:3,row:4,x:1659,y:397,name:"VCF EG",input:!1},{idx:29,col:3,row:5,x:1659,y:470,name:"RHYTHM 4",input:!0},{idx:30,col:3,row:6,x:1657,y:546,name:"SEQ 2 CLK",input:!1},{idx:31,col:3,row:7,x:1657,y:622,name:"TRIGGER",input:!1}],we=[{idx:0,x:598,y:140,type:"large",name:"VCO 1 FREQ"},{idx:1,x:516,y:290,type:"medium",name:"VCO 1 SUB FREQ 1"},{idx:2,x:676,y:290,type:"medium",name:"VCO 1 SUB FREQ 2"},{idx:3,x:598,y:485,type:"medium",name:"VCO 1 LEVEL"},{idx:4,x:516,y:620,type:"medium",name:"VCO 1 SUB 1 LEVEL"},{idx:5,x:676,y:620,type:"medium",name:"VCO 1 SUB 2 LEVEL"},{idx:6,x:913,y:140,type:"large",name:"VCO 2 FREQ"},{idx:7,x:832,y:290,type:"medium",name:"VCO 2 SUB FREQ 1"},{idx:8,x:989,y:290,type:"medium",name:"VCO 2 SUB FREQ 2"},{idx:9,x:910,y:485,type:"medium",name:"VCO 2 LEVEL"},{idx:10,x:832,y:620,type:"medium",name:"VCO 2 SUB 1 LEVEL"},{idx:11,x:989,y:620,type:"medium",name:"VCO 2 SUB 2 LEVEL"},{idx:12,x:1150,y:90,type:"large",name:"CUTOFF"},{idx:13,x:1318,y:90,type:"large",name:"VOLUME"},{idx:14,x:1150,y:270,type:"large",name:"RESONANCE"},{idx:15,x:1318,y:270,type:"large",name:"VCF EG AMT"},{idx:16,x:1148,y:450,type:"large",name:"VCF ATTACK"},{idx:17,x:1318,y:450,type:"large",name:"VCF DECAY"},{idx:18,x:1148,y:610,type:"large",name:"VCA ATTACK"},{idx:19,x:1318,y:610,type:"large",name:"VCA DECAY"},{idx:20,x:120,y:610,type:"large",name:"TEMPO"},{idx:21,x:69,y:95,type:"small",name:"SEQ 1 STEP 1"},{idx:22,x:174,y:95,type:"small",name:"SEQ 1 STEP 2"},{idx:23,x:280,y:95,type:"small",name:"SEQ 1 STEP 3"},{idx:24,x:387,y:95,type:"small",name:"SEQ 1 STEP 4"},{idx:25,x:69,y:235,type:"small",name:"SEQ 2 STEP 1"},{idx:26,x:174,y:235,type:"small",name:"SEQ 2 STEP 2"},{idx:27,x:280,y:235,type:"small",name:"SEQ 2 STEP 3"},{idx:28,x:387,y:235,type:"small",name:"SEQ 2 STEP 4"},{idx:29,x:69,y:375,type:"small",name:"RHYTHM 1"},{idx:30,x:175,y:375,type:"small",name:"RHYTHM 2"},{idx:31,x:281,y:375,type:"small",name:"RHYTHM 3"},{idx:32,x:388,y:375,type:"small",name:"RHYTHM 4"}],Oe={large:{radius:55,limit:304},medium:{radius:55,limit:304},small:{radius:30,limit:300}},Ee=[{idx:0,x:467,y:124,type:"threeway",name:"VCO 1 WAVE"},{idx:1,x:998,y:124,type:"threeway",name:"VCO 2 WAVE"},{idx:2,x:39,y:428,type:"seq1_button",name:"SEQ1 RHYTHM 1"},{idx:3,x:144.75,y:428,type:"seq1_button",name:"SEQ1 RHYTHM 2"},{idx:4,x:250.5,y:428,type:"seq1_button",name:"SEQ1 RHYTHM 3"},{idx:5,x:356.5,y:428,type:"seq1_button",name:"SEQ1 RHYTHM 4"},{idx:6,x:39,y:478,type:"seq2_button",name:"SEQ2 RHYTHM 1"},{idx:7,x:144.75,y:478,type:"seq2_button",name:"SEQ2 RHYTHM 2"},{idx:8,x:250.5,y:478,type:"seq2_button",name:"SEQ2 RHYTHM 3"},{idx:9,x:356.5,y:478,type:"seq2_button",name:"SEQ2 RHYTHM 4"},{idx:10,x:500.5,y:366.5,type:"osc1_button",name:"SEQ1 ASSIGN OSC1"},{idx:11,x:574.5,y:366.5,type:"sub1_button",name:"SEQ1 ASSIGN SUB1"},{idx:12,x:645.5,y:366.5,type:"sub2_button",name:"SEQ1 ASSIGN SUB2"},{idx:13,x:815.5,y:366.5,type:"osc2_button",name:"SEQ2 ASSIGN OSC2"},{idx:14,x:890.5,y:366.5,type:"sub1_button",name:"SEQ2 ASSIGN SUB1"},{idx:15,x:961.5,y:366.5,type:"sub2_button",name:"SEQ2 ASSIGN SUB2"},{idx:16,x:299.5,y:547,type:"eg_button",name:"EG"},{idx:17,x:720,y:80,type:"seqoct",name:"SEQOCT"},{idx:18,x:723,y:335,type:"quantize",name:"QUANTIZE"}],be={threeway:{values:["mid","down","up"]},twoway:{values:["down","up"]},button:{values:["on","off"]},seqoct:{values:["seqoct_five","seqoct_two","seqoct_one"]},quantize:{values:["quantize_12et","quantize_8et","quantize_12ji","quantize_8ji","quantize_off"]},seq1_button:{values:["seq1_off","seq1_on"]},seq2_button:{values:["seq2_off","seq2_on"]},eg_button:{values:["eg_off","eg_on"]},osc1_button:{values:["osc1_off","osc1_on"]},osc2_button:{values:["osc2_off","osc2_on"]},sub1_button:{values:["sub1_off","sub1_on"]},sub2_button:{values:["sub2_off","sub2_on"]}},Ce=42,ve=42;function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=1585,Le=584,Me=6,De=12,Pe=[{idx:0,col:0,row:0,x:406,y:66,name:"MOD SOURCE",input:!0},{idx:1,col:1,row:0,x:513,y:66,name:"OSC 1V/OCT",input:!0},{idx:2,col:2,row:0,x:621,y:66,name:"LFO CV",input:!0},{idx:3,col:5,row:0,x:909,y:66,name:"EXT",input:!0},{idx:4,col:7,row:0,x:1112,y:66,name:"CUT CV",input:!0},{idx:5,col:8,row:0,x:1170,y:66,name:"FC GATE",input:!0},{idx:6,col:10,row:0,x:1284,y:66,name:"LC GATE",input:!0},{idx:7,col:12,row:0,x:1423,y:66,name:"LOUD CV",input:!0},{idx:8,col:3,row:0,x:713,y:66,name:"LFO TRIANGULAR",input:!1},{idx:9,col:4,row:0,x:770,y:66,name:"LFO SQUARE",input:!1},{idx:10,col:6,row:0,x:966,y:66,name:"MIX",input:!1},{idx:11,col:9,row:0,x:1227,y:66,name:"FILT CONT",input:!1},{idx:12,col:11,row:0,x:1341,y:66,name:"LOUD CONT",input:!1},{idx:13,col:13,row:0,x:1510,y:66,name:"MAIN",input:!1}],Re=[{idx:0,x:167,y:195,type:"large",name:"TUNE"},{idx:1,x:99,y:301,type:"small",name:"GLIDE"},{idx:2,x:234,y:301,type:"small",name:"MOD MIX"},{idx:3,x:98,y:468,type:"small",name:"MOD DEPTH"},{idx:4,x:234,y:468,type:"small",name:"LFO RATE"},{idx:5,x:405,y:166,type:"medium",name:"OSC1 RANGE"},{idx:6,x:403,y:299,type:"medium",name:"OSC2 RANGE"},{idx:7,x:405,y:432,type:"medium",name:"OSC3 RANGE"},{idx:8,x:514,y:299,type:"large",name:"OSC2 FREQ"},{idx:9,x:514,y:432,type:"large",name:"OSC3 FREQ"},{idx:10,x:622,y:166,type:"medium",name:"OSC1 WAVEFORM"},{idx:11,x:622,y:299,type:"medium",name:"OSC2 WAVEFORM"},{idx:12,x:622,y:432,type:"medium",name:"OSC3 WAVEFORM"},{idx:13,x:732,y:166,type:"small",name:"OSC1 VOLUME"},{idx:14,x:732,y:299,type:"small",name:"OSC2 VOLUME"},{idx:15,x:732,y:432,type:"small",name:"OSC3 VOLUME"},{idx:16,x:907,y:233,type:"small",name:"EXT IN VOLUME"},{idx:17,x:907,y:366,type:"small",name:"NOISE VOLUME"},{idx:18,x:1130,y:167,type:"small",name:"CUTOFF FREQUENCY"},{idx:19,x:1130,y:299,type:"small",name:"FILTER ATTACK"},{idx:20,x:1130,y:431,type:"small",name:"LC ATTACK"},{idx:21,x:1228,y:167,type:"small",name:"FILTER EMPHASIS"},{idx:22,x:1229,y:299,type:"small",name:"FILTER DECAY"},{idx:23,x:1229,y:431,type:"small",name:"LOUDNESS DECAY"},{idx:24,x:1326,y:167,type:"small",name:"AMOUNT OF COUNTOUR"},{idx:25,x:1327,y:299,type:"small",name:"FILTER SUSTAIN"},{idx:26,x:1327,y:431,type:"small",name:"LC SUSTAIN"},{idx:27,x:1425,y:167,type:"small",name:"VOLUME"},{idx:28,x:1425,y:430,type:"small",name:"VOLUME (HEADPHONE)"}],Fe={large:{radius:55,limit:304},medium:{radius:45,limit:160},small:{radius:30,limit:300}},ke=[{idx:0,x:61,y:356,type:"black",name:"OSC3/FILTER EG"},{idx:1,x:195,y:356,type:"black",name:"MOD SOURCE"},{idx:2,x:147,y:435,type:"black_rot",name:"WAVE SHAPE"},{idx:3,x:267,y:183,type:"blue",name:"OSCILLATOR MODULATION"},{idx:4,x:311,y:398,type:"blue_rot",name:"NOISE (MOD SRC)/ LFO"},{idx:5,x:783,y:150,type:"red",name:"OSC1 ON/OFF"},{idx:6,x:783,y:215,type:"red",name:"OSC2 ON/OFF"},{idx:7,x:783,y:280,type:"red",name:"OSC3 ON/OFF"},{idx:8,x:783,y:347,type:"red",name:"NOISE ON/OFF"},{idx:9,x:783,y:413,type:"red",name:"EXT IN ON/OFF"},{idx:10,x:954,y:332,type:"red_rot",name:"WHITE/PINK"},{idx:11,x:1005,y:85,type:"blue",name:"FILTER MODE"},{idx:12,x:1005,y:150,type:"blue",name:"FILTER MODULATION"},{idx:13,x:1005,y:215,type:"blue",name:"KEYBOARD CONTROL 1"},{idx:14,x:1005,y:282,type:"blue",name:"KEYBOARD CONTROL 2"},{idx:15,x:1005,y:347,type:"white",name:"FILTER DECAY"},{idx:16,x:1005,y:413,type:"white",name:"LOUDNESS DECAY"},{idx:17,x:1387,y:281,type:"red",name:"A-440"},{idx:18,x:1476,y:149,type:"red",name:"ON"}],Ne={white:{values:["white_left","white_right"]},red:{values:["red_left","red_right"]},blue:{values:["blue_left","blue_right"]},black:{values:["black_left","black_right"],width:65,height:35},red_rot:{values:["red_up","red_down"]},blue_rot:{values:["blue_up","blue_down"]},black_rot:{values:["black_up","black_down"]}},_e=40,Ue=40,Ge=function(){var e=Array(29).fill(150);return e[5]=160,e[6]=160,e[7]=160,e[10]=160,e[11]=160,e[12]=160,e};function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=1300,qe=580,We=6,Ke=20,Qe=[{idx:0,x:1152,y:72,name:"Balance Channel External",input:!0},{idx:1,x:1256,y:72,name:"Balance CV",input:!0},{idx:2,x:511,y:137,name:"TEMPO",input:!0},{idx:3,x:455,y:323,name:"Voltage MATH Channel 1",input:!0},{idx:4,x:511,y:323,name:"Voltage MATH Channel 2",input:!0},{idx:5,x:883,y:442,name:"Slope Rise/Fall Time CV",input:!0},{idx:6,x:1011,y:442,name:"Contour Decay Time CV",input:!0},{idx:7,x:613,y:500,name:"Oscillator 1/V OCTave",input:!0},{idx:8,x:670,y:500,name:"Oscillator Linear FM",input:!0},{idx:9,x:739,y:500,name:"Overtone CV",input:!0},{idx:10,x:807,y:500,name:"Multiply CV",input:!0},{idx:11,x:884,y:498,name:"Slope Trigger",input:!0},{idx:12,x:1011,y:498,name:"Contour Gate",input:!0},{idx:13,x:1192,y:498,name:"Dynamics CV",input:!0},{idx:14,x:620,y:72,name:"Oscillator Triangle Wave",input:!1},{idx:15,x:682,y:72,name:"Oscillator Square Wave",input:!1},{idx:16,x:511,y:198,name:"CLocK",input:!1},{idx:17,x:511,y:259,name:"Stepped Random",input:!1},{idx:18,x:939,y:442,name:"Slope End of Cycle (EOC) Gate",input:!1},{idx:19,x:1253,y:442,name:"Headphone/Line",input:!1},{idx:20,x:345,y:501,name:"Ext. CV",input:!1},{idx:21,x:405,y:501,name:"Ext. Gate",input:!1},{idx:22,x:481,y:501,name:"Voltage MATH Channel 1",input:!1},{idx:23,x:540,y:500,name:"Voltage MATH Channel 2",input:!1},{idx:24,x:940,y:498,name:"Slope CV",input:!1},{idx:25,x:1067,y:498,name:"Contour End of Onset (EON)",input:!1},{idx:26,x:1124,y:498,name:"Contour CV",input:!1},{idx:27,x:1248,y:498,name:"Dynamics",input:!1}],ze=[{idx:0,x:651,y:176,type:"large",name:"Oscillator: Pitch Panel Control"},{idx:1,x:512,y:407,type:"medium",name:"Voltage MATH: Channel Attenuverter"},{idx:2,x:651,y:407,type:"medium",name:"Oscillator: Linear FM Attenuator"},{idx:3,x:807,y:127,type:"medium",name:"Overtone: Panel Control"},{idx:4,x:807,y:211,type:"medium",name:"Overtone: CV Attenuator"},{idx:5,x:807,y:309,type:"medium",name:"Multiply Panel Control"},{idx:6,x:807,y:402,type:"medium",name:"Multiply: CV Attenuverter"},{idx:7,x:936,y:158,type:"medium",name:"Slope: Rise Panel Control"},{idx:8,x:936,y:261,type:"medium",name:"Slope: Fall Panel Control"},{idx:9,x:936,y:361,type:"medium",name:"Slope: Vari-Response"},{idx:10,x:1066,y:98,type:"medium",name:"Contour: Onset Panel Control"},{idx:11,x:1066,y:198,type:"medium",name:"Contour: Sustain Panel Control"},{idx:12,x:1066,y:301,type:"medium",name:"Contour: Decay Panel Control"},{idx:13,x:1066,y:404,type:"medium",name:"Contour: Vari-Response"},{idx:14,x:1198,y:153,type:"medium",name:"Balance: Attenuator"},{idx:15,x:1198,y:302,type:"medium",name:"Dynamics: Attenuator"},{idx:16,x:651,y:312,type:"small",name:"Oscillator: Pitch Fine Tune"},{idx:17,x:1198,y:404,type:"small",name:"Headphone/Line Output: Level Control"}],Je={large:{radius:55,limit:304},medium:{radius:32,limit:300},small:{radius:30,limit:300}},Ze=[{idx:0,x:924,y:60,type:"twoway",name:"Slope Cycle"}],$e={twoway:{values:["off","on"]}},et=20,tt=20,nt=function(){var e=Array(18).fill(0);return e[1]=152,e[6]=152,e};function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st=1500,lt=776,ut=6,ct=12,xt=[{idx:0,col:0,row:0,x:325,y:110,name:"OSC CV",input:!0},{idx:1,col:1,row:0,x:390,y:110,name:"OSC FM",input:!0},{idx:2,col:2,row:0,x:457,y:110,name:"OSC MOD",input:!0},{idx:3,col:3,row:0,x:525,y:110,name:"VCF CUTOFF",input:!0},{idx:4,col:4,row:0,x:590,y:110,name:"VCF RES",input:!0},{idx:5,col:5,row:0,x:655,y:110,name:"MIX 1",input:!0},{idx:6,col:6,row:0,x:720,y:110,name:"MIX 2",input:!0},{idx:7,col:7,row:0,x:785,y:110,name:"VC MIX",input:!0},{idx:8,col:8,row:0,x:850,y:110,name:"MULTIPLE",input:!0},{idx:9,col:0,row:1,x:325,y:175,name:"MIX CV",input:!0},{idx:10,col:1,row:1,x:390,y:175,name:"EXT AUDIO",input:!0},{idx:11,col:2,row:1,x:457,y:175,name:"TEMPO",input:!0},{idx:12,col:3,row:1,x:525,y:175,name:"PLAY/STOP",input:!0},{idx:13,col:4,row:1,x:590,y:175,name:"RESET",input:!0},{idx:14,col:5,row:1,x:655,y:175,name:"HOLD",input:!0},{idx:15,col:6,row:1,x:720,y:175,name:"ENV GATE",input:!0},{idx:16,col:7,row:1,x:785,y:175,name:"VCA CV",input:!0},{idx:17,col:8,row:1,x:850,y:175,name:"LFO RATE",input:!0},{idx:18,col:9,row:0,x:915,y:110,name:"MULTIPLE 1",input:!1},{idx:19,col:10,row:0,x:980,y:110,name:"MULTIPLE 2",input:!1},{idx:20,col:11,row:0,x:1045,y:110,name:"OSC PULSE",input:!1},{idx:21,col:12,row:0,x:1110,y:110,name:"OSC SAW",input:!1},{idx:22,col:13,row:0,x:1177,y:110,name:"ENV",input:!1},{idx:23,col:14,row:0,x:1245,y:110,name:"NOISE",input:!1},{idx:24,col:15,row:0,x:1310,y:110,name:"VCA/LINE",input:!1},{idx:25,col:9,row:1,x:915,y:175,name:"LFO TRI",input:!1},{idx:26,col:10,row:1,x:980,y:175,name:"LFO SQU",input:!1},{idx:27,col:11,row:1,x:1045,y:175,name:"VC MIX",input:!1},{idx:28,col:12,row:1,x:1110,y:175,name:"ASSIGN",input:!1},{idx:29,col:13,row:1,x:1177,y:175,name:"KB CV",input:!1},{idx:30,col:14,row:1,x:1247,y:175,name:"GATE",input:!1},{idx:31,col:15,row:1,x:1310,y:175,name:"VCF",input:!1},{idx:32,col:16,row:0,x:1373,y:110,name:"PHONES",input:!1}],dt=[{idx:0,x:140,y:293,type:"large",name:"FREQUENCY"},{idx:1,x:315,y:293,type:"large",name:"PULSE WIDTH"},{idx:2,x:486,y:293,type:"large",name:"OSC MOD"},{idx:3,x:660,y:293,type:"large",name:"MIX"},{idx:4,x:840,y:293,type:"large",name:"CUTOFF"},{idx:5,x:1012,y:293,type:"large",name:"RESONANCE"},{idx:6,x:1185,y:293,type:"large",name:"VCF MOD"},{idx:7,x:1360,y:293,type:"large",name:"VOLUME"},{idx:8,x:140,y:487,type:"large",name:"ATTACK"},{idx:9,x:315,y:487,type:"large",name:"DECAY"},{idx:10,x:486,y:487,type:"large",name:"SUSTAIN"},{idx:11,x:840,y:487,type:"large",name:"LFO RATE"},{idx:12,x:1185,y:487,type:"large",name:"GLIDE"},{idx:13,x:1360,y:487,type:"large",name:"VC MIX"},{idx:14,x:140,y:645,type:"large",name:"TEMPO/GATE LENGTH"}],yt={large:{radius:30,limit:310}},mt=[{idx:0,x:300,y:375,type:"twoway",name:"VCO SHAPE"},{idx:1,x:473,y:375,type:"twoway",name:"VCO MOD SOURCE"},{idx:2,x:645,y:375,type:"twoway",name:"VCO MOD DEST"},{idx:3,x:998,y:475,type:"twoway",name:"LFO SHAPE"},{idx:4,x:825,y:375,type:"twoway",name:"VCF MODE"},{idx:5,x:998,y:375,type:"twoway",name:"VCF MOD SOURCE"},{idx:6,x:645,y:475,type:"twoway",name:"ENV SUSTAIN"},{idx:7,x:1344,y:375,type:"twoway",name:"VCA MODE"},{idx:8,x:1170,y:375,type:"twoway",name:"VCF MOD POLARITY"}],pt={twoway:{values:["left","right"]}},ht=43,ft=41;function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt=1300,Ct=580,vt=8,Vt=18,St=[{idx:0,x:438,y:390,name:"CLK IN",input:!0},{idx:1,x:438,y:455,name:"SEQ CV OUT",input:!1},{idx:2,x:503,y:260,name:"VCO1 1V/OCT",input:!0},{idx:3,x:503,y:325,name:"PWM CV",input:!0},{idx:4,x:503,y:390,name:"VCO1 PULSE",input:!1},{idx:5,x:503,y:455,name:"VCO1 TRI",input:!1},{idx:6,x:568,y:260,name:"EXP FM",input:!0},{idx:7,x:568,y:325,name:"VCA CV",input:!0},{idx:8,x:568,y:390,name:"IN/LIN FM",input:!0},{idx:9,x:568,y:455,name:"VCA OUT",input:!1},{idx:10,x:634,y:260,name:"VCO2 1V/OCT",input:!0},{idx:11,x:634,y:325,name:"SHAPE CV",input:!0},{idx:12,x:634,y:390,name:"VCO2 SHAPE",input:!1},{idx:13,x:634,y:455,name:"VCO2 TRI",input:!1},{idx:14,x:700,y:260,name:"MIX1 IN 1",input:!0},{idx:15,x:700,y:325,name:"MIX1 IN 2",input:!0},{idx:16,x:700,y:390,name:"MIX1 IN 3",input:!0},{idx:17,x:700,y:455,name:"MIX1 OUT",input:!1},{idx:18,x:765,y:130,name:"CLK IN",input:!0},{idx:19,x:765,y:195,name:"MOD SINE",input:!1},{idx:20,x:765,y:260,name:"MOD PULSE",input:!1},{idx:21,x:765,y:325,name:"RND PULSE",input:!1},{idx:22,x:765,y:390,name:"S&H",input:!1},{idx:23,x:765,y:455,name:"NOISE",input:!1},{idx:24,x:831,y:260,name:"EG1 ATTACK CV",input:!0},{idx:25,x:831,y:325,name:"EG1 DECAY CV",input:!0},{idx:26,x:831,y:390,name:"EG1 TRIGG",input:!0},{idx:27,x:831,y:455,name:"EG1 OUT",input:!1},{idx:28,x:897,y:260,name:"EG2 ATTACK CV",input:!0},{idx:29,x:897,y:325,name:"EG2 DECAY CV",input:!0},{idx:30,x:897,y:390,name:"EG2 TRIGG",input:!0},{idx:31,x:897,y:455,name:"EG2 OUT",input:!1},{idx:32,x:962,y:260,name:"LPG1 CV1",input:!0},{idx:33,x:962,y:325,name:"LPG1 CV2",input:!0},{idx:34,x:962,y:390,name:"LPG1 IN",input:!0},{idx:35,x:962,y:455,name:"LPG1 OUT",input:!1},{idx:36,x:1028,y:260,name:"LPG2 CV1",input:!0},{idx:37,x:1028,y:325,name:"LPG2 CV2",input:!0},{idx:38,x:1028,y:390,name:"LPG2 IN",input:!0},{idx:39,x:1028,y:455,name:"LPG2 OUT",input:!1},{idx:40,x:1094,y:325,name:"BBD TIME CV",input:!0},{idx:41,x:1094,y:390,name:"BBD IN",input:!0},{idx:42,x:1094,y:455,name:"BBD OUT",input:!1},{idx:43,x:1160,y:260,name:"MIX2 IN 1",input:!0},{idx:44,x:1160,y:325,name:"MIX2 IN 2",input:!0},{idx:45,x:1160,y:390,name:"MIX2 IN 3",input:!0},{idx:46,x:1160,y:455,name:"MIX2 OUT",input:!1},{idx:47,x:1226,y:260,name:"MIX3 IN 1",input:!0},{idx:48,x:1226,y:325,name:"MIX3 IN 2",input:!0},{idx:49,x:1226,y:390,name:"MIX3 OUT",input:!1},{idx:50,x:1226,y:455,name:"MIX3 SUM OUT",input:!1},{idx:51,x:1226,y:65,name:"MASTER OUT (STEREO)",input:!1}],Tt=[{idx:0,x:438,y:67,type:"small",name:"SEQ 1"},{idx:1,x:438,y:135,type:"small",name:"SEQ 2"},{idx:2,x:438,y:207,type:"small",name:"SEQ 3"},{idx:3,x:438,y:275,type:"small",name:"SEQ 4"},{idx:4,x:505,y:67,type:"small",name:"TUNE 1"},{idx:5,x:505,y:130,type:"small",name:"PWM"},{idx:6,x:569,y:67,type:"small",name:"EXP FM"},{idx:7,x:569,y:128,type:"small",name:"LIN FM"},{idx:8,x:569,y:195,type:"small",name:"VCA OFFS"},{idx:9,x:635,y:67,type:"small",name:"TUNE 2"},{idx:10,x:635,y:130,type:"small",name:"SHAPE"},{idx:11,x:701,y:67,type:"small",name:"MIX1 LVL 1"},{idx:12,x:701,y:130,type:"small",name:"MIX1 LVL 2"},{idx:13,x:701,y:195,type:"small",name:"MIX1 LVL 3"},{idx:14,x:766,y:67,type:"small",name:"RATE"},{idx:15,x:832,y:65,type:"small",name:"EG1 ATTACK"},{idx:16,x:832,y:130,type:"small",name:"EG1 DECAY"},{idx:17,x:898,y:65,type:"small",name:"EG2 ATTACK"},{idx:18,x:898,y:130,type:"small",name:"EG2 DECAY"},{idx:19,x:963,y:65,type:"small",name:"LPG1 OFFSET"},{idx:20,x:963,y:129,type:"small",name:"LPG1 RESO"},{idx:21,x:1030,y:65,type:"small",name:"LPG2 OFFSET"},{idx:22,x:1030,y:129,type:"small",name:"LPG2 RESO"},{idx:23,x:1095,y:65,type:"small",name:"BBD TIME"},{idx:24,x:1095,y:129,type:"small",name:"BBD FDK"},{idx:25,x:1095,y:195,type:"small",name:"BBD DRY/WET"},{idx:26,x:1162,y:65,type:"small",name:"MIX2 LVL 1"},{idx:27,x:1162,y:129,type:"small",name:"MIX2 LVL 2"},{idx:28,x:1162,y:195,type:"small",name:"MIX2 LVL 3"},{idx:29,x:1228,y:129,type:"small",name:"MIX3 LVL 1"},{idx:30,x:1228,y:195,type:"small",name:"MIX3 LVL 2"}],It={small:{radius:25,limit:280}},At=[{idx:0,x:416,y:322,type:"horizthree",name:"SEQ STEPS"},{idx:1,x:475,y:173,type:"vertthree",name:"VCO1 OCT"},{idx:2,x:604,y:173,type:"vertthree",name:"VCO2 OCT"},{idx:3,x:797,y:173,type:"verttwo",name:"EG1 LOOP/FREE"},{idx:4,x:862,y:173,type:"verttwo",name:"EG2 LOOP/FREE"},{idx:5,x:945,y:173,type:"verttwo",name:"LPG1 VCA/VCF"},{idx:6,x:1010,y:173,type:"verttwo",name:"LPG2 VCA/VCF"},{idx:7,x:1072,y:240,type:"horizthree",name:"SEQ STEPS"}],Lt={horiztwo:{values:["left","right"]},horizthree:{values:["left","centerhor","right"]},verttwo:{values:["up","down"]},vertthree:{values:["up","center","down"]}},Mt=25,Dt=25,Pt=function(){return Array(31).fill(140)},Rt={"behringer-neutron":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,O(t).call(this,{deviceName:"behringer-neutron",canvasWidth:b,canvasHeight:C,connectors:V,knobs:S,buttons:I,lights:M,connectorOptions:{cellRadius:v},buttonOptions:{width:A,height:L},knobTypes:T,initialValues:{knobValues:P(),buttonValues:Array(7).fill(!1),lightValues:{"OSC1 RANGE":0,"OSC2 RANGE":0,"VCF MODE":0}},images:{panel:"/images/neutron/neutron-front.png",knobs:{large:"/images/neutron/neutron-knob-large.png",medium:"/images/neutron/neutron-knob-medium.png",small:"/images/neutron/neutron-knob-small-2.png"},buttons:{off:"/images/neutron/neutron-button-off.png",on:"/images/neutron/neutron-button-on.png"},lights:{bright:"/images/neutron/neutron-light-bright.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,h),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"onButtonClick",value:function(e){if(e.idx<=2){var t=e.name.endsWith("RANGE")?4:3;this.lightValues[e.name]=++this.lightValues[e.name]%t}else this.buttonValues[e.idx]=!this.buttonValues[e.idx]}},{key:"drawLights",value:function(){this.ctx.save(),this.ctx.shadowBlur=15,this.ctx.shadowColor="yellow",this.drawOscShapeLights("OSC1 SHAPE",this.knobValues[34]),this.drawOscShapeLights("OSC2 SHAPE",this.knobValues[35]),this.drawOscShapeLights("LFO SHAPE",this.knobValues[10]);for(var e=this.images.lights.bright,t=0,n=Object.keys(this.lightValues);t<n.length;t++){var i=n[t],o=this.lightValues[i];if(i.endsWith("RANGE"))if(3==o)for(var a=0;a<3;a++){var r=this.lights[D[i]+a];this.ctx.drawImage(e,r.x,r.y,10,10),this.ctx.drawImage(e,r.x,r.y,10,10)}else{var s=this.lights[D[i]+this.lightValues[i]];this.ctx.drawImage(e,s.x,s.y,10,10),this.ctx.drawImage(e,s.x,s.y,10,10)}else if("VCF MODE"==i){var l=this.lights[D[i]+this.lightValues[i]];this.ctx.drawImage(e,l.x,l.y,10,10),this.ctx.drawImage(e,l.x,l.y,10,10)}}this.ctx.restore()}},{key:"drawOscShapeLights",value:function(e,t){var n=this.images.lights.bright,i=Math.round(t/75),o=this.lights[D[e]+i];this.ctx.drawImage(n,o.x,o.y,10,10),t>25&&t<50?(o=this.lights[D[e]+0],this.ctx.drawImage(n,o.x,o.y,10,10),o=this.lights[D[e]+1],this.ctx.drawImage(n,o.x,o.y,10,10)):t>100&&t<125?(o=this.lights[D[e]+1],this.ctx.drawImage(n,o.x,o.y,10,10),o=this.lights[D[e]+2],this.ctx.drawImage(n,o.x,o.y,10,10)):t>175&&t<200?(o=this.lights[D[e]+2],this.ctx.drawImage(n,o.x,o.y,10,10),o=this.lights[D[e]+3],this.ctx.drawImage(n,o.x,o.y,10,10)):t>250&&t<275?(o=this.lights[D[e]+3],this.ctx.drawImage(n,o.x,o.y,10,10),o=this.lights[D[e]+4],this.ctx.drawImage(n,o.x,o.y,10,10)):this.ctx.drawImage(n,o.x,o.y,10,10)}}]),t}(),"moog-dfam":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,k(t).call(this,{deviceName:"moog-dfam",canvasWidth:_,canvasHeight:U,connectors:Y,connectorOptions:{cellRadius:H,cableWidth:G},knobs:j,knobTypes:X,toggles:B,toggleOptions:{types:q,width:W,height:K},initialValues:{knobValues:Array(33).fill(151),toggleValues:Array(6).fill(0)},images:{panel:"/images/dfam/moog-dfam-front.png",knobs:{large:"/images/dfam/moog-dfam-knob-large.png",small:"/images/dfam/moog-dfam-knob-small.png"},toggles:{mid:"/images/dfam/moog-dfam-switch-mid.png",down:"/images/dfam/moog-dfam-switch-down.png",up:"/images/dfam/moog-dfam-switch-up.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,h),t}(),"moog-mother-32":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),z(this,J(t).call(this,{deviceName:"moog-mother-32",canvasWidth:$,canvasHeight:ee,connectors:ie,connectorOptions:{cellRadius:ne,cableWidth:te},knobs:oe,knobTypes:ae,toggles:re,toggleOptions:{types:se,width:le,height:ue},initialValues:{knobValues:Array(14).fill(150),toggleValues:Array(9).fill(0)},images:{panel:"/images/mother-32/moog-mother-32-front.png",knobs:{large:"/images/mother-32/moog-mother-32-knob-large.png"},toggles:{down:"/images/mother-32/moog-mother-32-toggle-down.png",up:"/images/mother-32/moog-mother-32-toggle-up.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,h),t}(),"moog-subharmonicon":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xe(this,de(t).call(this,{deviceName:"moog-subharmonicon",canvasWidth:me,canvasHeight:pe,connectors:ge,connectorOptions:{cellRadius:fe,cableWidth:he},knobs:we,knobTypes:Oe,toggles:Ee,toggleOptions:{types:be,width:Ce,height:ve},initialValues:{knobValues:Array(33).fill(151),toggleValues:Array(20).fill(0)},images:{panel:"/images/subharmonicon/moog-subharmonicon-front.jpg",knobs:{large:"/images/subharmonicon/moog-subharmonicon-knob-large.png",medium:"/images/subharmonicon/moog-subharmonicon-knob-large.png",small:"/images/subharmonicon/moog-subharmonicon-knob-small.png"},toggles:{mid:"/images/subharmonicon/moog-subharmonicon-switch-mid.png",down:"/images/subharmonicon/moog-subharmonicon-switch-down.png",up:"/images/subharmonicon/moog-subharmonicon-switch-up.png",seqoct_five:"/images/subharmonicon/moog-subharmonicon-switch-seqoct-five.png",seqoct_two:"/images/subharmonicon/moog-subharmonicon-switch-seqoct-two.png",seqoct_one:"/images/subharmonicon/moog-subharmonicon-switch-seqoct-one.png",quantize_12et:"/images/subharmonicon/moog-subharmonicon-switch-quantize-12et.png",quantize_8et:"/images/subharmonicon/moog-subharmonicon-switch-quantize-8et.png",quantize_12ji:"/images/subharmonicon/moog-subharmonicon-switch-quantize-12ji.png",quantize_8ji:"/images/subharmonicon/moog-subharmonicon-switch-quantize-8ji.png",quantize_off:"/images/subharmonicon/moog-subharmonicon-switch-quantize-off.png",seq1_on:"/images/subharmonicon/moog-subharmonicon-switch-seq1-on.png",seq1_off:"/images/subharmonicon/moog-subharmonicon-switch-seq1-off.png",seq2_on:"/images/subharmonicon/moog-subharmonicon-switch-seq2-on.png",seq2_off:"/images/subharmonicon/moog-subharmonicon-switch-seq2-off.png",sub1_on:"/images/subharmonicon/moog-subharmonicon-switch-sub1-on.png",sub1_off:"/images/subharmonicon/moog-subharmonicon-switch-sub1-off.png",sub2_on:"/images/subharmonicon/moog-subharmonicon-switch-sub2-on.png",sub2_off:"/images/subharmonicon/moog-subharmonicon-switch-sub2-off.png",osc1_on:"/images/subharmonicon/moog-subharmonicon-switch-osc1-on.png",osc1_off:"/images/subharmonicon/moog-subharmonicon-switch-osc1-off.png",osc2_on:"/images/subharmonicon/moog-subharmonicon-switch-osc2-on.png",osc2_off:"/images/subharmonicon/moog-subharmonicon-switch-osc2-off.png",eg_on:"/images/subharmonicon/moog-subharmonicon-switch-eg-on.png",eg_off:"/images/subharmonicon/moog-subharmonicon-switch-eg-off.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,h),t}(),"behringer-model-d":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,Te(t).call(this,{deviceName:"behringer-model-d",canvasWidth:Ae,canvasHeight:Le,connectors:Pe,connectorOptions:{cellRadius:De,cableWidth:Me},knobs:Re,knobTypes:Fe,toggles:ke,toggleOptions:{types:Ne,width:_e,height:Ue},initialValues:{knobValues:Ge(),toggleValues:Array(19).fill(0)},images:{panel:"/images/model-d/model-d-front.png",knobs:{large:"/images/model-d/model-d-knob-large.png",medium:"/images/model-d/model-d-knob-medium.png",small:"/images/model-d/model-d-knob-small.png"},toggles:{white_left:"/images/model-d/model-d-switch-white.png",white_right:"/images/model-d/model-d-switch-white-right.png",red_left:"/images/model-d/model-d-switch-red.png",red_right:"/images/model-d/model-d-switch-red-right.png",red_up:"/images/model-d/model-d-switch-red-up.png",red_down:"/images/model-d/model-d-switch-red-down.png",blue_left:"/images/model-d/model-d-switch-blue.png",blue_right:"/images/model-d/model-d-switch-blue-right.png",blue_up:"/images/model-d/model-d-switch-blue-up.png",blue_down:"/images/model-d/model-d-switch-blue-down.png",black_left:"/images/model-d/model-d-switch-black.png",black_right:"/images/model-d/model-d-switch-black-right.png",black_up:"/images/model-d/model-d-switch-black-up.png",black_down:"/images/model-d/model-d-switch-black-down.png",red_ud:"/images/model-d/model-d-switch-black.png",blue_ud:"/images/model-d/model-d-switch-black.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,h),t}(),"make-noise-0-coast":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,je(t).call(this,{deviceName:"make-noise-0-coast",canvasWidth:Be,canvasHeight:qe,connectors:Qe,connectorOptions:{cellRadius:Ke,cableWidth:We},knobs:ze,knobTypes:Je,toggles:Ze,toggleOptions:{types:$e,width:et,height:tt},initialValues:{knobValues:nt(),toggleValues:[0]},images:{panel:"/images/0-coast/0-coast-front3.png",knobs:{large:"/images/0-coast/0-coast-knob-large.png",medium:"/images/0-coast/0-coast-knob-medium.png",small:"/images/0-coast/0-coast-knob-small.png"},toggles:{on:"/images/0-coast/0-coast-button-on.png",off:"/images/0-coast/0-coast-button-off.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,h),t}(),"behringer-crave":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,at(t).call(this,{deviceName:"behringer-crave",canvasWidth:st,canvasHeight:lt,connectors:xt,connectorOptions:{cellRadius:ct,cableWidth:ut},knobs:dt,knobTypes:yt,toggles:mt,toggleOptions:{types:pt,width:ht,height:ft},initialValues:{knobValues:Array(15).fill(158),toggleValues:Array(9).fill(0)},images:{panel:"/images/crave/crave-front.png",knobs:{large:"/images/crave/crave-knob.png"},toggles:{left:"/images/crave/crave-switch-left.png",right:"/images/crave/crave-switch-right.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,h),t}(),"erica-pico-iii":function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wt(this,Ot(t).call(this,{deviceName:"erica-pico-iii",canvasWidth:bt,canvasHeight:Ct,connectors:St,connectorOptions:{cellRadius:Vt,cableWidth:vt},knobs:Tt,knobTypes:It,toggles:At,toggleOptions:{types:Lt,width:Mt,height:Dt},initialValues:{knobValues:Pt(),toggleValues:Array(8).fill(0)},images:{panel:"/images/pico-iii/pico-iii-front.png",knobs:{small:"/images/pico-iii/pico-iii-knob-small.png"},toggles:{up:"/images/pico-iii/pico-iii-switch-up.png",down:"/images/pico-iii/pico-iii-switch-down.png",right:"/images/pico-iii/pico-iii-switch-right.png",left:"/images/pico-iii/pico-iii-switch-left.png",center:"/images/pico-iii/pico-iii-switch-center.png",centerhor:"/images/pico-iii/pico-iii-switch-center-hor.png"}}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,h),t}()};function Ft(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function kt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Nt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.deviceId,i=t.key,o=t.name,a=t.canvasWidth,r=t.canvasHeight,s=t.buttons,l=t.knobs,u=t.connectors,c=t.toggles,x=t.lights,d=t.initialValues,y=t.buttonOptions,m=t.connectorOptions,p=t.knobTypes,h=t.toggleOptions,f=t.lightOptions,g=t.images,w=t.offsetX,O=t.offsetY,E=t.deviceChanged;this.deviceId=n,this.key=i,this.name=o,this.deviceChanged=E,this.canvas=document.querySelector("canvas[data-device='rack']"),this.ctx=this.canvas.getContext("2d"),this.raf,this.canvasWidth=a,this.canvasHeight=r,this.offsetX=w||0,this.offsetY=O||0,this.offscreenCanvas=document.createElement("canvas"),this.offscreenCanvas.width=a,this.offscreenCanvas.height=r,this.offscreenCtx=this.offscreenCanvas.getContext("2d"),this.knobs=l||[],this.connectors=u||[],this.buttons=s||[],this.toggles=c||[],this.lights=x||[],this.knobTypes=p,this.buttonOptions=y,this.connectorOptions=m,this.toggleOptions=h,this.lightOptions=f,this.patchScreenshotCanvas=document.getElementById("patch_screenshot_canvas"),this.patchScreenshotCtx,this.patchScreenshotCanvas&&(this.patchScreenshotCtx=this.patchScreenshotCanvas.getContext("2d")),this.patchScreenshotImage=document.getElementById("patch_screenshot_image"),this.turning=!1,this.turnKnobIdx,this.turnOldValue,this.turnNewValue,this.turnPreviousY,this.knobValues=d.knobValues?Ft(d.knobValues):[],this.buttonValues=d.buttonValues?Ft(d.buttonValues):[],this.toggleValues=d.toggleValues?Ft(d.toggleValues):[],this.lightValues=d.lightValues?Object.assign({},d.lightValues):{},this.addAllEventListeners(),this.images=this.loadImages(g),this.requestRedraw()}return function(e,t,n){t&&kt(e.prototype,t),n&&kt(e,n)}(e,[{key:"getValues",value:function(){return{knobValues:this.knobValues,buttonValues:this.buttonValues,toggleValues:this.toggleValues,lightValues:this.lightValues}}},{key:"updateRackValues",value:function(){this.deviceChanged(this.deviceId)}},{key:"requestRedraw",value:function(){var e=this;this.raf=window.requestAnimationFrame(function(){return e.draw()})}},{key:"draw",value:function(){var e=this;this.offscreenCtx.setTransform(1,0,0,1,0,0),this.offscreenCtx.save(),this.offscreenCtx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.offscreenCtx.drawImage(this.images.panel,0,0),this.knobs.forEach(function(t){return e.drawKnob(t)}),this.buttons.forEach(function(t){return e.drawButton(t)}),this.toggles.forEach(function(t){return e.drawToggle(t)}),this.drawLights(),this.offscreenCtx.restore(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.offscreenCanvas,this.offsetX,this.offsetY),this.turning&&this.requestRedraw()}},{key:"drawKnob",value:function(e){var t=this.knobValues[e.idx],n=this.images.knobs[e.type];if(n){this.knobTypes[e.type];this.offscreenCtx.save(),this.offscreenCtx.translate(e.x,e.y),this.offscreenCtx.rotate(t*Math.PI/180),this.offscreenCtx.drawImage(n,-n.width/2,-n.height/2),this.offscreenCtx.restore()}}},{key:"drawButton",value:function(e){var t=this.buttonValues[e.idx],n=this.images.buttons[t?"on":"off"];this.offscreenCtx.save(),t&&(this.offscreenCtx.shadowBlur=10,this.offscreenCtx.shadowColor="blue"),this.offscreenCtx.drawImage(n,e.x,e.y),this.offscreenCtx.restore()}},{key:"drawToggle",value:function(e){var t=this.toggleValues[e.idx],n=this.toggleOptions.types[e.type].values[t],i=this.images.toggles[n];this.offscreenCtx.save(),this.offscreenCtx.drawImage(i,e.x,e.y),this.offscreenCtx.restore()}},{key:"drawLights",value:function(){}},{key:"loadImages",value:function(e){var t=this,n={};for(var i in e)if(e.hasOwnProperty(i))if("string"==typeof e[i])n[i]=new Image,n[i].addEventListener("load",function(){return t.requestRedraw()}),n[i].src=e[i];else for(var o in n[i]=n[i]||{},e[i])e[i].hasOwnProperty(o)&&(n[i][o]=new Image,n[i][o].addEventListener("load",function(){return t.requestRedraw()}),n[i][o].src=e[i][o]);return n}},{key:"isIntersect",value:function(e,t,n){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y-this.offsetY,2))<n}},{key:"isOverConnector",value:function(e){var t=this,n=!1;return this.connectors.forEach(function(i){if(t.isIntersect(e,i,t.connectorOptions.cellRadius)){i.input;n=i}}),n}},{key:"onButtonClick",value:function(e){return!1}},{key:"onToggleClick",value:function(e){var t=this.toggleOptions.types[e.type].values.length;this.toggleValues[e.idx]=++this.toggleValues[e.idx]%t,this.updateRackValues()}},{key:"onMouseDown",value:function(e){var t=this,n=this.getMousePos(this.canvas,e);this.knobs.forEach(function(e){var i=t.knobTypes[e.type];t.isIntersect(n,e,i.radius)&&(t.turning=!0,t.turnKnobIdx=e.idx,t.turnPreviousY=n.y,t.turnOldValue=e.value,t.turnNewValue=e.value,t.requestRedraw())}),this.buttons.forEach(function(e){var i={x:e.x+t.buttonOptions.width/2,y:e.y+t.buttonOptions.height/2};t.isIntersect(n,i,t.buttonOptions.width)&&(t.onButtonClick(e),t.requestRedraw())}),this.toggles.forEach(function(e){var i={x:e.x+t.toggleOptions.width/2,y:e.y+t.toggleOptions.height/2};t.isIntersect(n,i,t.toggleOptions.width)&&(t.onToggleClick(e),t.requestRedraw())})}},{key:"onMouseMove",value:function(e){if(this.turning){var t=this.getMousePos(this.canvas,e);if(this.turning){var n=this.knobs[this.turnKnobIdx],i=this.knobTypes[n.type];this.knobValues[this.turnKnobIdx]+=2*(this.turnPreviousY-t.y),this.knobValues[this.turnKnobIdx]=Math.max(this.knobValues[this.turnKnobIdx],0),this.knobValues[this.turnKnobIdx]=Math.min(this.knobValues[this.turnKnobIdx],i.limit),this.turnPreviousY=t.y}}}},{key:"onMouseUp",value:function(e){this.turning&&(this.turning=!1,this.updateRackValues())}},{key:"onTouchStart",value:function(e){this.getTouchPos(this.canvas,e);var t=e.touches[0],n=new MouseEvent("mousedown",{clientX:t.clientX,clientY:t.clientY});this.canvas.dispatchEvent(n)}},{key:"onTouchMove",value:function(e){this.getTouchPos(this.canvas,e);var t=e.touches[0],n=new MouseEvent("mousemove",{clientX:t.clientX,clientY:t.clientY});this.canvas.dispatchEvent(n)}},{key:"onTouchEnd",value:function(e){var t=new MouseEvent("mouseup",{});this.canvas.dispatchEvent(t)}},{key:"addAllEventListeners",value:function(){this.mouseDownListener=this.onMouseDown.bind(this),this.canvas.addEventListener("mousedown",this.mouseDownListener,!1),this.mouseMoveListener=this.onMouseMove.bind(this),this.canvas.addEventListener("mousemove",this.mouseMoveListener,!1),this.mouseUpListener=this.onMouseUp.bind(this),this.canvas.addEventListener("mouseup",this.mouseUpListener,!1),this.touchStartListener=this.onTouchStart.bind(this),this.canvas.addEventListener("touchstart",this.touchStartListener,!1),this.touchMoveListener=this.onTouchMove.bind(this),this.canvas.addEventListener("touchmove",this.touchMoveListener,!1),this.touchEndListener=this.onTouchEnd.bind(this),this.canvas.addEventListener("touchend",this.touchEndListener,!1)}},{key:"removeAllEventListeners",value:function(){this.canvas.removeEventListener("mousedown",this.mouseDownListener,!1),this.canvas.removeEventListener("mousemove",this.mouseMoveListener,!1),this.canvas.removeEventListener("mouseup",this.mouseUpListener,!1),this.canvas.removeEventListener("touchstart",this.touchStartListener,!1),this.canvas.removeEventListener("touchmove",this.touchMoveListener,!1),this.canvas.removeEventListener("touchend",this.touchEndListener,!1)}},{key:"getMousePos",value:function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}},{key:"getTouchPos",value:function(e,t){var n=e.getBoundingClientRect();return{x:t.touches[0].clientX-n.left,y:t.touches[0].clientY-n.top}}}]),e}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Gt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt={"OSC1 SHAPE":0,"OSC2 SHAPE":5,"LFO SHAPE":10,"OSC1 RANGE":15,"OSC2 RANGE":18,"VCF MODE":21},Xt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gt(this,Ht(t).call(this,Object.assign(t.info,e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,Nt),function(e,t,n){t&&Ut(e.prototype,t),n&&Ut(e,n)}(t,[{key:"onButtonClick",value:function(e){if(e.idx<=2){var t=e.name.endsWith("RANGE")?4:3;this.lightValues[e.name]=++this.lightValues[e.name]%t,this.requestRedraw(),this.updateRackValues()}else this.buttonValues[e.idx]=!this.buttonValues[e.idx],this.updateRackValues()}},{key:"drawLights",value:function(){this.offscreenCtx.save(),this.offscreenCtx.shadowBlur=15,this.offscreenCtx.shadowColor="yellow",this.drawOscShapeLights("OSC1 SHAPE",this.knobValues[34]),this.drawOscShapeLights("OSC2 SHAPE",this.knobValues[35]),this.drawOscShapeLights("LFO SHAPE",this.knobValues[10]);for(var e=this.images.lights.bright,t=0,n=Object.keys(this.lightValues);t<n.length;t++){var i=n[t],o=this.lightValues[i];if(i.endsWith("RANGE"))if(3==o)for(var a=0;a<3;a++){var r=this.lights[jt[i]+a];this.offscreenCtx.drawImage(e,r.x,r.y,10,10),this.offscreenCtx.drawImage(e,r.x,r.y,10,10)}else{var s=this.lights[jt[i]+this.lightValues[i]];this.offscreenCtx.drawImage(e,s.x,s.y,10,10),this.offscreenCtx.drawImage(e,s.x,s.y,10,10)}else if("VCF MODE"==i){var l=this.lights[jt[i]+this.lightValues[i]];this.offscreenCtx.drawImage(e,l.x,l.y,10,10),this.offscreenCtx.drawImage(e,l.x,l.y,10,10)}}this.offscreenCtx.restore()}},{key:"drawOscShapeLights",value:function(e,t){var n=this.images.lights.bright,i=Math.round(t/75),o=this.lights[jt[e]+i];this.offscreenCtx.drawImage(n,o.x,o.y,10,10),t>25&&t<50?(o=this.lights[jt[e]+0],this.offscreenCtx.drawImage(n,o.x,o.y,10,10),o=this.lights[jt[e]+1],this.offscreenCtx.drawImage(n,o.x,o.y,10,10)):t>100&&t<125?(o=this.lights[jt[e]+1],this.offscreenCtx.drawImage(n,o.x,o.y,10,10),o=this.lights[jt[e]+2],this.offscreenCtx.drawImage(n,o.x,o.y,10,10)):t>175&&t<200?(o=this.lights[jt[e]+2],this.offscreenCtx.drawImage(n,o.x,o.y,10,10),o=this.lights[jt[e]+3],this.offscreenCtx.drawImage(n,o.x,o.y,10,10)):t>250&&t<275?(o=this.lights[jt[e]+3],this.offscreenCtx.drawImage(n,o.x,o.y,10,10),o=this.lights[jt[e]+4],this.offscreenCtx.drawImage(n,o.x,o.y,10,10)):this.offscreenCtx.drawImage(n,o.x,o.y,10,10)}}]),t}();function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Xt.info={key:"behringer-neutron",name:"Behringer Neutron",canvasWidth:1598,canvasHeight:530,connectors:[{idx:0,col:0,row:0,x:1215,y:81,name:"OSC1",input:!0},{idx:1,col:0,row:1,x:1215,y:131,name:"SHAPE1",input:!0},{idx:2,col:0,row:2,x:1215,y:182,name:"VCF IN",input:!0},{idx:3,col:0,row:3,x:1215,y:232,name:"VCA IN",input:!0},{idx:4,col:0,row:4,x:1215,y:283,name:"E.GATE1",input:!0},{idx:5,col:0,row:5,x:1215,y:333,name:"LFO RATE",input:!0},{idx:6,col:0,row:6,x:1215,y:384,name:"ATT1 IN",input:!0},{idx:7,col:0,row:7,x:1215,y:434,name:"SUM 1(A)",input:!0},{idx:8,col:1,row:0,x:1268,y:81,name:"OSC2",input:!0},{idx:9,col:1,row:1,x:1268,y:131,name:"SHAPE2",input:!0},{idx:10,col:1,row:2,x:1268,y:182,name:"FREQ MOD",input:!0},{idx:11,col:1,row:3,x:1268,y:232,name:"VCA CV",input:!0},{idx:12,col:1,row:4,x:1268,y:283,name:"E.GATE2",input:!0},{idx:13,col:1,row:5,x:1268,y:333,name:"LFO SHAPE",input:!0},{idx:14,col:1,row:6,x:1268,y:384,name:"ATT1 CV",input:!0},{idx:15,col:1,row:7,x:1268,y:434,name:"SUM 1(B)",input:!0},{idx:16,col:2,row:0,x:1321,y:81,name:"OSC1+2",input:!0},{idx:17,col:2,row:1,x:1321,y:131,name:"PW1",input:!0},{idx:18,col:2,row:2,x:1321,y:182,name:"RES",input:!0},{idx:19,col:2,row:3,x:1321,y:232,name:"DELAY IN",input:!0},{idx:20,col:2,row:4,x:1321,y:283,name:"S&H IN",input:!0},{idx:21,col:2,row:5,x:1321,y:333,name:"LFO TRIG",input:!0},{idx:22,col:2,row:6,x:1321,y:384,name:"ATT2 IN",input:!0},{idx:23,col:2,row:7,x:1321,y:434,name:"SUM 2(A)",input:!0},{idx:24,col:3,row:0,x:1374,y:81,name:"INVERT IN",input:!0},{idx:25,col:3,row:1,x:1374,y:131,name:"PW2",input:!0},{idx:26,col:3,row:2,x:1374,y:182,name:"OD IN",input:!0},{idx:27,col:3,row:3,x:1374,y:232,name:"DELAY TIME",input:!0},{idx:28,col:3,row:4,x:1374,y:283,name:"S&H CLOCK",input:!0},{idx:29,col:3,row:5,x:1374,y:333,name:"MULT",input:!0},{idx:30,col:3,row:6,x:1374,y:384,name:"SLEW IN",input:!0},{idx:31,col:3,row:7,x:1374,y:434,name:"SUM 2(B)",input:!0},{idx:32,col:4,row:0,x:1426,y:81,name:"OSC1",input:!1},{idx:33,col:4,row:1,x:1426,y:131,name:"VCF1",input:!1},{idx:34,col:4,row:2,x:1426,y:182,name:"VCA",input:!1},{idx:35,col:4,row:3,x:1426,y:232,name:"ENV1",input:!1},{idx:36,col:4,row:4,x:1426,y:283,name:"LFO",input:!1},{idx:37,col:4,row:5,x:1426,y:333,name:"MULT1",input:!1},{idx:38,col:4,row:6,x:1426,y:384,name:"ATT1",input:!1},{idx:39,col:4,row:7,x:1426,y:434,name:"SUM1",input:!1},{idx:40,col:5,row:0,x:1479,y:81,name:"OSC2",input:!1},{idx:41,col:5,row:1,x:1479,y:131,name:"VCF2",input:!1},{idx:42,col:5,row:2,x:1479,y:182,name:"OUTPUT",input:!1},{idx:43,col:5,row:3,x:1479,y:232,name:"ENV2",input:!1},{idx:44,col:5,row:4,x:1479,y:283,name:"LFO UNI",input:!1},{idx:45,col:5,row:5,x:1479,y:333,name:"MULT2",input:!1},{idx:46,col:5,row:6,x:1479,y:384,name:"ATT2",input:!1},{idx:47,col:5,row:7,x:1479,y:434,name:"SUM2",input:!1},{idx:48,col:6,row:0,x:1532,y:81,name:"OSC MIX",input:!1},{idx:49,col:6,row:1,x:1532,y:131,name:"OVERDRIVE",input:!1},{idx:50,col:6,row:2,x:1532,y:182,name:"NOISE",input:!1},{idx:51,col:6,row:3,x:1532,y:232,name:"INVERT",input:!1},{idx:52,col:6,row:4,x:1532,y:283,name:"S&H",input:!1},{idx:53,col:6,row:5,x:1532,y:333,name:"MIDI GATE",input:!1},{idx:54,col:6,row:6,x:1532,y:384,name:"SLEW",input:!1},{idx:55,col:6,row:7,x:1532,y:434,name:"ASSIGN",input:!1}],knobs:[{idx:0,x:131,y:178,type:"large",name:"OSC1 TUNE"},{idx:1,x:317,y:179,type:"large",name:"OSC2 TUNE"},{idx:2,x:225,y:126,type:"small",name:"OSC MIX"},{idx:3,x:131,y:425,type:"small",name:"OSC1 WIDTH"},{idx:4,x:317,y:425,type:"small",name:"OSC2 WIDTH"},{idx:5,x:463,y:87,type:"small",name:"VCF FREQ"},{idx:6,x:463,y:200,type:"small",name:"VCF RESONANCE"},{idx:7,x:463,y:313,type:"small",name:"VCF MOD DEPTH"},{idx:8,x:463,y:425,type:"small",name:"VCF ENV DEPTH"},{idx:9,x:655,y:87,type:"small",name:"LFO RATE"},{idx:10,x:607,y:185,type:"medium",name:"LFO SHAPE"},{idx:11,x:559,y:313,type:"small",name:"NOISE"},{idx:12,x:559,y:425,type:"small",name:"VCA BIAS"},{idx:13,x:750,y:87,type:"small",name:"DELAY TIME"},{idx:14,x:847,y:87,type:"small",name:"DELAY REPEATS"},{idx:15,x:943,y:87,type:"small",name:"DELAY MIX"},{idx:16,x:750,y:200,type:"small",name:"OVERDRIVE DRIVE"},{idx:17,x:847,y:200,type:"small",name:"OVERDRIVE TONE"},{idx:18,x:943,y:200,type:"small",name:"OVERDRIVE LEVEL"},{idx:19,x:655,y:313,type:"small",name:"ENV1 ATTACK"},{idx:20,x:750,y:313,type:"small",name:"ENV1 DECAY"},{idx:21,x:847,y:313,type:"small",name:"ENV1 SUSTAIN"},{idx:22,x:943,y:313,type:"small",name:"ENV1 RELEASE"},{idx:23,x:655,y:425,type:"small",name:"ENV2 ATTACK"},{idx:24,x:750,y:425,type:"small",name:"ENV2 DECAY"},{idx:25,x:847,y:425,type:"small",name:"ENV2 SUSTAIN"},{idx:26,x:943,y:425,type:"small",name:"ENV2 RELEASE"},{idx:27,x:1039,y:87,type:"small",name:"OUTPUT VOLUME"},{idx:28,x:1039,y:200,type:"small",name:"S&H RATE"},{idx:29,x:1135,y:200,type:"small",name:"S&H GLIDE"},{idx:30,x:1039,y:313,type:"small",name:"SLEW RATE"},{idx:31,x:1135,y:313,type:"small",name:"PORTA TIME"},{idx:32,x:1039,y:425,type:"small",name:"ATTENUATOR 1"},{idx:33,x:1135,y:425,type:"small",name:"ATTENUATOR 2"},{idx:34,x:131,y:313,type:"none",name:"OSC1 SHAPE"},{idx:35,x:317,y:313,type:"none",name:"OSC2 SHAPE"}],buttons:[{idx:0,x:182.5,y:313,name:"OSC1 RANGE"},{idx:1,x:238,y:313,name:"OSC2 RANGE"},{idx:2,x:388,y:74,name:"VCF MODE"},{idx:3,x:210,y:371,name:"OSC SYNC"},{idx:4,x:210,y:423.5,name:"PARAPHONIC"},{idx:5,x:449,y:248,name:"VCF KEY TRK"},{idx:6,x:545,y:74,name:"LFO KEY SYNC"}],lights:[{idx:0,x:81,y:365},{idx:1,x:81,y:337},{idx:2,x:81,y:308},{idx:3,x:81,y:278},{idx:4,x:81,y:250},{idx:5,x:357,y:250},{idx:6,x:357,y:278},{idx:7,x:357,y:308},{idx:8,x:357,y:337},{idx:9,x:357,y:365},{idx:10,x:573,y:220},{idx:11,x:557,y:166},{idx:12,x:602,y:133},{idx:13,x:647,y:166},{idx:14,x:631,y:220},{idx:15,x:196,y:280},{idx:16,x:196,y:251},{idx:17,x:196,y:221},{idx:18,x:242,y:280},{idx:19,x:242,y:251},{idx:20,x:242,y:221},{idx:21,x:396,y:172},{idx:22,x:396,y:147},{idx:23,x:396,y:123}],connectorOptions:{cellRadius:12},buttonOptions:{width:27,height:26},knobTypes:{large:{radius:50,limit:300},medium:{radius:40,limit:300},small:{radius:30,limit:300},none:{radius:30,limit:300}},initialValues:{knobValues:function(){var e=Array(36).fill(150);return e[7]=0,e[8]=0,e[11]=0,e[12]=0,e[29]=0,e[30]=0,e[31]=0,e[32]=0,e[33]=0,e[34]=0,e[35]=300,e}(),buttonValues:Array(7).fill(!1),lightValues:{"OSC1 RANGE":0,"OSC2 RANGE":0,"VCF MODE":0}},images:{panel:"/images/neutron/neutron-front.png",knobs:{large:"/images/neutron/neutron-knob-large.png",medium:"/images/neutron/neutron-knob-medium.png",small:"/images/neutron/neutron-knob-small-2.png"},buttons:{off:"/images/neutron/neutron-button-off.png",on:"/images/neutron/neutron-button-on.png"},lights:{bright:"/images/neutron/neutron-light-bright.png"}}};var Qt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qt(this,Wt(t).call(this,Object.assign(t.info,e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,Nt),t}();function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Qt.info={key:"moog-dfam",name:"Moog DFAM",canvasWidth:1697,canvasHeight:730,connectors:[{idx:0,col:0,row:0,x:1457,y:97,name:"TRIGGER",input:!0},{idx:1,col:0,row:1,x:1457,y:170,name:"VELOCITY",input:!0},{idx:2,col:0,row:2,x:1457,y:243,name:"EXT AUDIO",input:!0},{idx:3,col:0,row:3,x:1457,y:315,name:"NOISE LEVEL",input:!0},{idx:4,col:0,row:4,x:1457,y:387,name:"VCF MOD",input:!0},{idx:5,col:0,row:5,x:1457,y:458,name:"1>2 FM AMOUNT",input:!0},{idx:6,col:0,row:6,x:1457,y:529,name:"TEMPO",input:!0},{idx:7,col:0,row:7,x:1457,y:601,name:"TRIGGER",input:!1},{idx:8,col:1,row:0,x:1530,y:97,name:"VCA CV",input:!0},{idx:9,col:1,row:1,x:1530,y:170,name:"VCA DECAY",input:!0},{idx:10,col:1,row:2,x:1530,y:243,name:"VCF DECAY",input:!0},{idx:11,col:1,row:3,x:1530,y:315,name:"VCO DECAY",input:!0},{idx:12,col:1,row:4,x:1530,y:387,name:"VCO 1 CV",input:!0},{idx:13,col:1,row:5,x:1530,y:458,name:"VCO 2 CV",input:!0},{idx:14,col:1,row:6,x:1530,y:529,name:"RUN/STOP",input:!0},{idx:15,col:1,row:7,x:1530,y:601,name:"VELOCITY",input:!1},{idx:16,col:2,row:0,x:1603,y:97,name:"VCA",input:!1},{idx:17,col:2,row:1,x:1603,y:170,name:"VCA EG",input:!1},{idx:18,col:2,row:2,x:1603,y:243,name:"VCF EG",input:!1},{idx:19,col:2,row:3,x:1603,y:315,name:"VCO EG",input:!1},{idx:20,col:2,row:4,x:1603,y:387,name:"VCO 1",input:!1},{idx:21,col:2,row:5,x:1603,y:458,name:"VCO 2",input:!1},{idx:22,col:2,row:6,x:1603,y:529,name:"ADV/CLOCK",input:!0},{idx:23,col:2,row:7,x:1603,y:601,name:"PITCH",input:!1}],connectorOptions:{cellRadius:12,cableWidth:6},knobs:[{idx:0,x:135.5,y:133,type:"large",name:"VCO DECAY"},{idx:1,x:135.5,y:305,type:"large",name:"1>2 FM AMOUNT"},{idx:2,x:281,y:472,type:"large",name:"TEMPO"},{idx:3,x:362,y:133,type:"large",name:"VCO 1 EG AMOUNT"},{idx:4,x:362,y:305,type:"large",name:"VCO 2 EG AMOUNT"},{idx:5,x:516,y:133,type:"large",name:"VCO 1 EG FREQUENCY"},{idx:6,x:516,y:305,type:"large",name:"VCO 2 EG FREQUENCY"},{idx:7,x:874,y:307,type:"large",name:"VCF DECAY"},{idx:8,x:958,y:133,type:"large",name:"CUTOFF"},{idx:9,x:1028,y:307,type:"large",name:"VCF EG AMOUNT"},{idx:10,x:1112.5,y:133,type:"large",name:"RESONANCE"},{idx:11,x:1183,y:307,type:"large",name:"NOISE / VCF MOD"},{idx:12,x:1350,y:135,type:"large",name:"VOLUME"},{idx:13,x:1350,y:309,type:"large",name:"VCA DECAY"},{idx:14,x:732,y:106,type:"small",name:"VCO 1 LEVEL"},{idx:15,x:732,y:221,type:"small",name:"NOISE/EXT LEVEL"},{idx:16,x:732,y:337,type:"small",name:"VCO 2 LEVEL"},{idx:17,x:459,y:458,type:"small",name:"PITCH 1"},{idx:18,x:586,y:458,type:"small",name:"PITCH 2"},{idx:19,x:713,y:458,type:"small",name:"PITCH 3"},{idx:20,x:840,y:458,type:"small",name:"PITCH 4"},{idx:21,x:967,y:458,type:"small",name:"PITCH 5"},{idx:22,x:1094,y:458,type:"small",name:"PITCH 6"},{idx:23,x:1221,y:458,type:"small",name:"PITCH 7"},{idx:24,x:1348,y:458,type:"small",name:"PITCH 8"},{idx:25,x:459,y:584,type:"small",name:"VELOCITY 1"},{idx:26,x:586,y:584,type:"small",name:"VELOCITY 2"},{idx:27,x:713,y:584,type:"small",name:"VELOCITY 3"},{idx:28,x:840,y:584,type:"small",name:"VELOCITY 4"},{idx:29,x:967,y:584,type:"small",name:"VELOCITY 5"},{idx:30,x:1094,y:584,type:"small",name:"VELOCITY 6"},{idx:31,x:1221,y:584,type:"small",name:"VELOCITY 7"},{idx:32,x:1348,y:584,type:"small",name:"VELOCITY 8"}],knobTypes:{large:{radius:55,limit:304},small:{radius:30,limit:300}},toggles:[{idx:0,x:225,y:114,type:"threeway",name:"SEQ PITCH MOD"},{idx:1,x:227,y:286,type:"twoway",name:"HARD SYNC"},{idx:2,x:608,y:114,type:"twoway",name:"VCO 1 WAVE"},{idx:3,x:608,y:286,type:"twoway",name:"VCO 2 WAVE"},{idx:4,x:816,y:114,type:"twoway",name:"VCF TYPE"},{idx:5,x:1210,y:114,type:"twoway",name:"VCA EG SPEED"}],toggleOptions:{types:{threeway:{values:["mid","down","up"]},twoway:{values:["down","up"]}},width:42,height:42},initialValues:{knobValues:Array(33).fill(151),toggleValues:Array(6).fill(0)},images:{panel:"/images/dfam/moog-dfam-front.png",knobs:{large:"/images/dfam/moog-dfam-knob-large.png",small:"/images/dfam/moog-dfam-knob-small.png"},toggles:{mid:"/images/dfam/moog-dfam-switch-mid.png",down:"/images/dfam/moog-dfam-switch-down.png",up:"/images/dfam/moog-dfam-switch-up.png"}}};var en=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jt(this,Zt(t).call(this,Object.assign(t.info,e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(t,Nt),t}();function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){return!t||"object"!==tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}en.info={key:"moog-mother-32",name:"Moog Mother-32",canvasWidth:1524,canvasHeight:657,connectors:[{idx:0,col:0,row:0,x:1250,y:88,name:"EXT. AUDIO",input:!0},{idx:1,col:0,row:1,x:1250,y:154,name:"NOISE",input:!1},{idx:2,col:0,row:2,x:1250,y:220,name:"VCO 1V/OCT",input:!0},{idx:3,col:0,row:3,x:1250,y:285,name:"VCO MOD",input:!0},{idx:4,col:0,row:4,x:1249,y:350,name:"MIX 1",input:!0},{idx:5,col:0,row:5,x:1249,y:415,name:"MULT",input:!0},{idx:6,col:0,row:6,x:1249,y:480,name:"GATE",input:!0},{idx:7,col:0,row:7,x:1249,y:545,name:"TEMPO",input:!0},{idx:8,col:1,row:0,x:1315,y:88,name:"MIX CV",input:!0},{idx:9,col:1,row:1,x:1315,y:154,name:"VCF CUTOFF",input:!0},{idx:10,col:1,row:2,x:1315,y:220,name:"VCO LIN FM",input:!0},{idx:11,col:1,row:3,x:1315,y:285,name:"LFO RATE",input:!0},{idx:12,col:1,row:4,x:1313,y:350,name:"MIX 2",input:!0},{idx:13,col:1,row:5,x:1313,y:415,name:"MULT 1",input:!1},{idx:14,col:1,row:6,x:1313,y:480,name:"EG",input:!1},{idx:15,col:1,row:7,x:1313,y:545,name:"RUN/STOP",input:!0},{idx:16,col:2,row:0,x:1380,y:88,name:"VCA CV",input:!0},{idx:17,col:2,row:1,x:1380,y:154,name:"VCF RES.",input:!0},{idx:18,col:2,row:2,x:1380,y:220,name:"VCO SAW",input:!1},{idx:19,col:2,row:3,x:1380,y:285,name:"LFO TRI",input:!1},{idx:20,col:2,row:4,x:1377,y:350,name:"VC MIX CTRL",input:!0},{idx:21,col:2,row:5,x:1377,y:415,name:"MULT 2",input:!1},{idx:22,col:2,row:6,x:1377,y:480,name:"KB",input:!1},{idx:23,col:2,row:7,x:1377,y:545,name:"RESET",input:!0},{idx:24,col:3,row:0,x:1445,y:88,name:"VCA",input:!1},{idx:25,col:3,row:1,x:1445,y:154,name:"VCF",input:!1},{idx:26,col:3,row:2,x:1445,y:220,name:"VCO PULSE",input:!1},{idx:27,col:3,row:3,x:1445,y:285,name:"LFO SQ",input:!1},{idx:28,col:3,row:4,x:1443,y:350,name:"VC MIX",input:!1},{idx:29,col:3,row:5,x:1443,y:415,name:"ASSIGN",input:!1},{idx:30,col:3,row:6,x:1443,y:480,name:"GATE",input:!1},{idx:31,col:3,row:7,x:1443,y:545,name:"HOLD",input:!0}],connectorOptions:{cellRadius:12,cableWidth:6},knobs:[{idx:0,x:150.5,y:96,type:"large",name:"FREQUENCY"},{idx:1,x:149.5,y:235,type:"large",name:"GLIDE"},{idx:2,x:239.5,y:374,type:"large",name:"TEMPO/GATE LENGTH"},{idx:3,x:427,y:96,type:"large",name:"PULSE WIDTH"},{idx:4,x:427,y:235,type:"large",name:"VCO MOD AMOUNT"},{idx:5,x:426,y:374,type:"large",name:"LFO RATE"},{idx:6,x:565.5,y:96,type:"large",name:"MIX"},{idx:7,x:733,y:96,type:"large",name:"CUTOFF"},{idx:8,x:703,y:374,type:"large",name:"ATTACK"},{idx:9,x:900.5,y:96,type:"large",name:"RESONANCE"},{idx:10,x:981.5,y:235,type:"large",name:"VCF MOD AMOUNT"},{idx:11,x:980.5,y:374,type:"large",name:"DECAY"},{idx:12,x:1120.5,y:96,type:"large",name:"VOLUME"},{idx:13,x:1119,y:374,type:"large",name:"VC MIX"}],knobTypes:{large:{radius:47,limit:300}},toggles:[{idx:0,x:268,y:79,type:"twoway",name:"VCO WAVE"},{idx:1,x:266,y:218,type:"twoway",name:"VCO MOD SOURCE"},{idx:2,x:541,y:218,type:"twoway",name:"VCO MOD DEST"},{idx:3,x:541,y:352,type:"twoway",name:"LFO WAVE"},{idx:4,x:681,y:218,type:"twoway",name:"VCF MODE"},{idx:5,x:821,y:218,type:"twoway",name:"VCF MOD SOURCE"},{idx:6,x:821,y:352,type:"twoway",name:"SUSTAIN"},{idx:7,x:986,y:79,type:"twoway",name:"VCA MODE"},{idx:8,x:1098,y:218,type:"twoway",name:"VCF MOD POLARITY"}],toggleOptions:{types:{twoway:{values:["down","up"]}},width:43,height:41},initialValues:{knobValues:Array(14).fill(150),toggleValues:Array(9).fill(0)},images:{panel:"/images/mother-32/moog-mother-32-front.png",knobs:{large:"/images/mother-32/moog-mother-32-knob-large.png"},toggles:{down:"/images/mother-32/moog-mother-32-toggle-down.png",up:"/images/mother-32/moog-mother-32-toggle-up.png"}}};var rn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nn(this,on(t).call(this,Object.assign(t.info,e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(t,Nt),t}();function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){return!t||"object"!==sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}rn.info={key:"behringer-model-d",name:"Behringer Model-D",canvasWidth:1585,canvasHeight:584,connectors:[{idx:0,col:0,row:0,x:406,y:66,name:"MOD SOURCE",input:!0},{idx:1,col:1,row:0,x:513,y:66,name:"OSC 1V/OCT",input:!0},{idx:2,col:2,row:0,x:621,y:66,name:"LFO CV",input:!0},{idx:3,col:5,row:0,x:909,y:66,name:"EXT",input:!0},{idx:4,col:7,row:0,x:1112,y:66,name:"CUT CV",input:!0},{idx:5,col:8,row:0,x:1170,y:66,name:"FC GATE",input:!0},{idx:6,col:10,row:0,x:1284,y:66,name:"LC GATE",input:!0},{idx:7,col:12,row:0,x:1423,y:66,name:"LOUD CV",input:!0},{idx:8,col:3,row:0,x:713,y:66,name:"LFO TRIANGULAR",input:!1},{idx:9,col:4,row:0,x:770,y:66,name:"LFO SQUARE",input:!1},{idx:10,col:6,row:0,x:966,y:66,name:"MIX",input:!1},{idx:11,col:9,row:0,x:1227,y:66,name:"FILT CONT",input:!1},{idx:12,col:11,row:0,x:1341,y:66,name:"LOUD CONT",input:!1},{idx:13,col:13,row:0,x:1510,y:66,name:"MAIN",input:!1}],connectorOptions:{cellRadius:12,cableWidth:6},knobs:[{idx:0,x:167,y:195,type:"large",name:"TUNE"},{idx:1,x:99,y:301,type:"small",name:"GLIDE"},{idx:2,x:234,y:301,type:"small",name:"MOD MIX"},{idx:3,x:98,y:468,type:"small",name:"MOD DEPTH"},{idx:4,x:234,y:468,type:"small",name:"LFO RATE"},{idx:5,x:405,y:166,type:"medium",name:"OSC1 RANGE"},{idx:6,x:403,y:299,type:"medium",name:"OSC2 RANGE"},{idx:7,x:405,y:432,type:"medium",name:"OSC3 RANGE"},{idx:8,x:514,y:299,type:"large",name:"OSC2 FREQ"},{idx:9,x:514,y:432,type:"large",name:"OSC3 FREQ"},{idx:10,x:622,y:166,type:"medium",name:"OSC1 WAVEFORM"},{idx:11,x:622,y:299,type:"medium",name:"OSC2 WAVEFORM"},{idx:12,x:622,y:432,type:"medium",name:"OSC3 WAVEFORM"},{idx:13,x:732,y:166,type:"small",name:"OSC1 VOLUME"},{idx:14,x:732,y:299,type:"small",name:"OSC2 VOLUME"},{idx:15,x:732,y:432,type:"small",name:"OSC3 VOLUME"},{idx:16,x:907,y:233,type:"small",name:"EXT IN VOLUME"},{idx:17,x:907,y:366,type:"small",name:"NOISE VOLUME"},{idx:18,x:1130,y:167,type:"small",name:"CUTOFF FREQUENCY"},{idx:19,x:1130,y:299,type:"small",name:"FILTER ATTACK"},{idx:20,x:1130,y:431,type:"small",name:"LC ATTACK"},{idx:21,x:1228,y:167,type:"small",name:"FILTER EMPHASIS"},{idx:22,x:1229,y:299,type:"small",name:"FILTER DECAY"},{idx:23,x:1229,y:431,type:"small",name:"LOUDNESS DECAY"},{idx:24,x:1326,y:167,type:"small",name:"AMOUNT OF COUNTOUR"},{idx:25,x:1327,y:299,type:"small",name:"FILTER SUSTAIN"},{idx:26,x:1327,y:431,type:"small",name:"LC SUSTAIN"},{idx:27,x:1425,y:167,type:"small",name:"VOLUME"},{idx:28,x:1425,y:430,type:"small",name:"VOLUME (HEADPHONE)"}],knobTypes:{large:{radius:55,limit:304},medium:{radius:45,limit:160},small:{radius:30,limit:300}},toggles:[{idx:0,x:61,y:356,type:"black",name:"OSC3/FILTER EG"},{idx:1,x:195,y:356,type:"black",name:"MOD SOURCE"},{idx:2,x:147,y:435,type:"black_rot",name:"WAVE SHAPE"},{idx:3,x:267,y:183,type:"blue",name:"OSCILLATOR MODULATION"},{idx:4,x:311,y:398,type:"blue_rot",name:"NOISE (MOD SRC)/ LFO"},{idx:5,x:783,y:150,type:"red",name:"OSC1 ON/OFF"},{idx:6,x:783,y:215,type:"red",name:"OSC2 ON/OFF"},{idx:7,x:783,y:280,type:"red",name:"OSC3 ON/OFF"},{idx:8,x:783,y:347,type:"red",name:"NOISE ON/OFF"},{idx:9,x:783,y:413,type:"red",name:"EXT IN ON/OFF"},{idx:10,x:954,y:332,type:"red_rot",name:"WHITE/PINK"},{idx:11,x:1005,y:85,type:"blue",name:"FILTER MODE"},{idx:12,x:1005,y:150,type:"blue",name:"FILTER MODULATION"},{idx:13,x:1005,y:215,type:"blue",name:"KEYBOARD CONTROL 1"},{idx:14,x:1005,y:282,type:"blue",name:"KEYBOARD CONTROL 2"},{idx:15,x:1005,y:347,type:"white",name:"FILTER DECAY"},{idx:16,x:1005,y:413,type:"white",name:"LOUDNESS DECAY"},{idx:17,x:1387,y:281,type:"red",name:"A-440"},{idx:18,x:1476,y:149,type:"red",name:"ON"}],toggleOptions:{types:{white:{values:["white_left","white_right"]},red:{values:["red_left","red_right"]},blue:{values:["blue_left","blue_right"]},black:{values:["black_left","black_right"],width:65,height:35},red_rot:{values:["red_up","red_down"]},blue_rot:{values:["blue_up","blue_down"]},black_rot:{values:["black_up","black_down"]}},width:40,height:40},initialValues:{knobValues:function(){var e=Array(29).fill(150);return e[5]=160,e[6]=160,e[7]=160,e[10]=160,e[11]=160,e[12]=160,e}(),toggleValues:Array(19).fill(0)},images:{panel:"/images/model-d/model-d-front.png",knobs:{large:"/images/model-d/model-d-knob-large.png",medium:"/images/model-d/model-d-knob-medium.png",small:"/images/model-d/model-d-knob-small.png"},toggles:{white_left:"/images/model-d/model-d-switch-white.png",white_right:"/images/model-d/model-d-switch-white-right.png",red_left:"/images/model-d/model-d-switch-red.png",red_right:"/images/model-d/model-d-switch-red-right.png",red_up:"/images/model-d/model-d-switch-red-up.png",red_down:"/images/model-d/model-d-switch-red-down.png",blue_left:"/images/model-d/model-d-switch-blue.png",blue_right:"/images/model-d/model-d-switch-blue-right.png",blue_up:"/images/model-d/model-d-switch-blue-up.png",blue_down:"/images/model-d/model-d-switch-blue-down.png",black_left:"/images/model-d/model-d-switch-black.png",black_right:"/images/model-d/model-d-switch-black-right.png",black_up:"/images/model-d/model-d-switch-black-up.png",black_down:"/images/model-d/model-d-switch-black-down.png",red_ud:"/images/model-d/model-d-switch-black.png",blue_ud:"/images/model-d/model-d-switch-black.png"}}};var xn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,un(t).call(this,Object.assign(t.info,e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,Nt),t}();function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}xn.info={key:"make-noise-0-coast",name:"Make Noise 0-Coast",canvasWidth:1600,canvasHeight:580,connectors:[{idx:0,x:1152,y:72,name:"Balance Channel External",input:!0},{idx:1,x:1256,y:72,name:"Balance CV",input:!0},{idx:2,x:511,y:137,name:"TEMPO",input:!0},{idx:3,x:455,y:323,name:"Voltage MATH Channel 1",input:!0},{idx:4,x:511,y:323,name:"Voltage MATH Channel 2",input:!0},{idx:5,x:883,y:442,name:"Slope Rise/Fall Time CV",input:!0},{idx:6,x:1011,y:442,name:"Contour Decay Time CV",input:!0},{idx:7,x:613,y:500,name:"Oscillator 1/V OCTave",input:!0},{idx:8,x:670,y:500,name:"Oscillator Linear FM",input:!0},{idx:9,x:739,y:500,name:"Overtone CV",input:!0},{idx:10,x:807,y:500,name:"Multiply CV",input:!0},{idx:11,x:884,y:498,name:"Slope Trigger",input:!0},{idx:12,x:1011,y:498,name:"Contour Gate",input:!0},{idx:13,x:1192,y:498,name:"Dynamics CV",input:!0},{idx:14,x:620,y:72,name:"Oscillator Triangle Wave",input:!1},{idx:15,x:682,y:72,name:"Oscillator Square Wave",input:!1},{idx:16,x:511,y:198,name:"CLocK",input:!1},{idx:17,x:511,y:259,name:"Stepped Random",input:!1},{idx:18,x:939,y:442,name:"Slope End of Cycle (EOC) Gate",input:!1},{idx:19,x:1253,y:442,name:"Headphone/Line",input:!1},{idx:20,x:345,y:501,name:"Ext. CV",input:!1},{idx:21,x:405,y:501,name:"Ext. Gate",input:!1},{idx:22,x:481,y:501,name:"Voltage MATH Channel 1",input:!1},{idx:23,x:540,y:500,name:"Voltage MATH Channel 2",input:!1},{idx:24,x:940,y:498,name:"Slope CV",input:!1},{idx:25,x:1067,y:498,name:"Contour End of Onset (EON)",input:!1},{idx:26,x:1124,y:498,name:"Contour CV",input:!1},{idx:27,x:1248,y:498,name:"Dynamics",input:!1}],connectorOptions:{cellRadius:20,cableWidth:6},knobs:[{idx:0,x:651,y:176,type:"large",name:"Oscillator: Pitch Panel Control"},{idx:1,x:512,y:407,type:"medium",name:"Voltage MATH: Channel Attenuverter"},{idx:2,x:651,y:407,type:"medium",name:"Oscillator: Linear FM Attenuator"},{idx:3,x:807,y:127,type:"medium",name:"Overtone: Panel Control"},{idx:4,x:807,y:211,type:"medium",name:"Overtone: CV Attenuator"},{idx:5,x:807,y:309,type:"medium",name:"Multiply Panel Control"},{idx:6,x:807,y:402,type:"medium",name:"Multiply: CV Attenuverter"},{idx:7,x:936,y:158,type:"medium",name:"Slope: Rise Panel Control"},{idx:8,x:936,y:261,type:"medium",name:"Slope: Fall Panel Control"},{idx:9,x:936,y:361,type:"medium",name:"Slope: Vari-Response"},{idx:10,x:1066,y:98,type:"medium",name:"Contour: Onset Panel Control"},{idx:11,x:1066,y:198,type:"medium",name:"Contour: Sustain Panel Control"},{idx:12,x:1066,y:301,type:"medium",name:"Contour: Decay Panel Control"},{idx:13,x:1066,y:404,type:"medium",name:"Contour: Vari-Response"},{idx:14,x:1198,y:153,type:"medium",name:"Balance: Attenuator"},{idx:15,x:1198,y:302,type:"medium",name:"Dynamics: Attenuator"},{idx:16,x:651,y:312,type:"small",name:"Oscillator: Pitch Fine Tune"},{idx:17,x:1198,y:404,type:"small",name:"Headphone/Line Output: Level Control"}],knobTypes:{large:{radius:55,limit:304},medium:{radius:32,limit:300},small:{radius:30,limit:300}},toggles:[{idx:0,x:924,y:60,type:"twoway",name:"Slope Cycle"}],toggleOptions:{types:{twoway:{values:["off","on"]}},width:20,height:20},initialValues:{knobValues:function(){var e=Array(18).fill(0);return e[1]=152,e[6]=152,e}(),toggleValues:[0]},images:{panel:"/images/0-coast/0-coast-front3.png",knobs:{large:"/images/0-coast/0-coast-knob-large.png",medium:"/images/0-coast/0-coast-knob-medium.png",small:"/images/0-coast/0-coast-knob-small.png"},toggles:{on:"/images/0-coast/0-coast-button-on.png",off:"/images/0-coast/0-coast-button-off.png"}}};var hn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yn(this,mn(t).call(this,Object.assign(t.info,e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,Nt),t}();function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}hn.info={key:"behringer-crave",name:"Behringer Crave",canvasWidth:1500,canvasHeight:776,connectors:[{idx:0,col:0,row:0,x:325,y:110,name:"OSC CV",input:!0},{idx:1,col:1,row:0,x:390,y:110,name:"OSC FM",input:!0},{idx:2,col:2,row:0,x:457,y:110,name:"OSC MOD",input:!0},{idx:3,col:3,row:0,x:525,y:110,name:"VCF CUTOFF",input:!0},{idx:4,col:4,row:0,x:590,y:110,name:"VCF RES",input:!0},{idx:5,col:5,row:0,x:655,y:110,name:"MIX 1",input:!0},{idx:6,col:6,row:0,x:720,y:110,name:"MIX 2",input:!0},{idx:7,col:7,row:0,x:785,y:110,name:"VC MIX",input:!0},{idx:8,col:8,row:0,x:850,y:110,name:"MULTIPLE",input:!0},{idx:9,col:0,row:1,x:325,y:175,name:"MIX CV",input:!0},{idx:10,col:1,row:1,x:390,y:175,name:"EXT AUDIO",input:!0},{idx:11,col:2,row:1,x:457,y:175,name:"TEMPO",input:!0},{idx:12,col:3,row:1,x:525,y:175,name:"PLAY/STOP",input:!0},{idx:13,col:4,row:1,x:590,y:175,name:"RESET",input:!0},{idx:14,col:5,row:1,x:655,y:175,name:"HOLD",input:!0},{idx:15,col:6,row:1,x:720,y:175,name:"ENV GATE",input:!0},{idx:16,col:7,row:1,x:785,y:175,name:"VCA CV",input:!0},{idx:17,col:8,row:1,x:850,y:175,name:"LFO RATE",input:!0},{idx:18,col:9,row:0,x:915,y:110,name:"MULTIPLE 1",input:!1},{idx:19,col:10,row:0,x:980,y:110,name:"MULTIPLE 2",input:!1},{idx:20,col:11,row:0,x:1045,y:110,name:"OSC PULSE",input:!1},{idx:21,col:12,row:0,x:1110,y:110,name:"OSC SAW",input:!1},{idx:22,col:13,row:0,x:1177,y:110,name:"ENV",input:!1},{idx:23,col:14,row:0,x:1245,y:110,name:"NOISE",input:!1},{idx:24,col:15,row:0,x:1310,y:110,name:"VCA/LINE",input:!1},{idx:25,col:9,row:1,x:915,y:175,name:"LFO TRI",input:!1},{idx:26,col:10,row:1,x:980,y:175,name:"LFO SQU",input:!1},{idx:27,col:11,row:1,x:1045,y:175,name:"VC MIX",input:!1},{idx:28,col:12,row:1,x:1110,y:175,name:"ASSIGN",input:!1},{idx:29,col:13,row:1,x:1177,y:175,name:"KB CV",input:!1},{idx:30,col:14,row:1,x:1247,y:175,name:"GATE",input:!1},{idx:31,col:15,row:1,x:1310,y:175,name:"VCF",input:!1},{idx:32,col:16,row:0,x:1373,y:110,name:"PHONES",input:!1}],connectorOptions:{cellRadius:12,cableWidth:6},knobs:[{idx:0,x:140,y:293,type:"large",name:"FREQUENCY"},{idx:1,x:315,y:293,type:"large",name:"PULSE WIDTH"},{idx:2,x:486,y:293,type:"large",name:"OSC MOD"},{idx:3,x:660,y:293,type:"large",name:"MIX"},{idx:4,x:840,y:293,type:"large",name:"CUTOFF"},{idx:5,x:1012,y:293,type:"large",name:"RESONANCE"},{idx:6,x:1185,y:293,type:"large",name:"VCF MOD"},{idx:7,x:1360,y:293,type:"large",name:"VOLUME"},{idx:8,x:140,y:487,type:"large",name:"ATTACK"},{idx:9,x:315,y:487,type:"large",name:"DECAY"},{idx:10,x:486,y:487,type:"large",name:"SUSTAIN"},{idx:11,x:840,y:487,type:"large",name:"LFO RATE"},{idx:12,x:1185,y:487,type:"large",name:"GLIDE"},{idx:13,x:1360,y:487,type:"large",name:"VC MIX"},{idx:14,x:140,y:645,type:"large",name:"TEMPO/GATE LENGTH"}],knobTypes:{large:{radius:30,limit:310}},toggles:[{idx:0,x:300,y:375,type:"twoway",name:"VCO SHAPE"},{idx:1,x:473,y:375,type:"twoway",name:"VCO MOD SOURCE"},{idx:2,x:645,y:375,type:"twoway",name:"VCO MOD DEST"},{idx:3,x:998,y:475,type:"twoway",name:"LFO SHAPE"},{idx:4,x:825,y:375,type:"twoway",name:"VCF MODE"},{idx:5,x:998,y:375,type:"twoway",name:"VCF MOD SOURCE"},{idx:6,x:645,y:475,type:"twoway",name:"ENV SUSTAIN"},{idx:7,x:1344,y:375,type:"twoway",name:"VCA MODE"},{idx:8,x:1170,y:375,type:"twoway",name:"VCF MOD POLARITY"}],toggleOptions:{types:{twoway:{values:["left","right"]}},width:43,height:41},initialValues:{knobValues:Array(15).fill(158),toggleValues:Array(9).fill(0)},images:{panel:"/images/crave/crave-front.png",knobs:{large:"/images/crave/crave-knob.png"},toggles:{left:"/images/crave/crave-switch-left.png",right:"/images/crave/crave-switch-right.png"}}};var En=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,wn(t).call(this,Object.assign(t.info,e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,Nt),t}();En.info={key:"erica-pico-iii",name:"Erica Pico System III",canvasWidth:1300,canvasHeight:580,connectors:[{idx:0,x:438,y:390,name:"CLK IN",input:!0},{idx:1,x:438,y:455,name:"SEQ CV OUT",input:!1},{idx:2,x:503,y:260,name:"VCO1 1V/OCT",input:!0},{idx:3,x:503,y:325,name:"PWM CV",input:!0},{idx:4,x:503,y:390,name:"VCO1 PULSE",input:!1},{idx:5,x:503,y:455,name:"VCO1 TRI",input:!1},{idx:6,x:568,y:260,name:"EXP FM",input:!0},{idx:7,x:568,y:325,name:"VCA CV",input:!0},{idx:8,x:568,y:390,name:"IN/LIN FM",input:!0},{idx:9,x:568,y:455,name:"VCA OUT",input:!1},{idx:10,x:634,y:260,name:"VCO2 1V/OCT",input:!0},{idx:11,x:634,y:325,name:"SHAPE CV",input:!0},{idx:12,x:634,y:390,name:"VCO2 SHAPE",input:!1},{idx:13,x:634,y:455,name:"VCO2 TRI",input:!1},{idx:14,x:700,y:260,name:"MIX1 IN 1",input:!0},{idx:15,x:700,y:325,name:"MIX1 IN 2",input:!0},{idx:16,x:700,y:390,name:"MIX1 IN 3",input:!0},{idx:17,x:700,y:455,name:"MIX1 OUT",input:!1},{idx:18,x:765,y:130,name:"CLK IN",input:!0},{idx:19,x:765,y:195,name:"MOD SINE",input:!1},{idx:20,x:765,y:260,name:"MOD PULSE",input:!1},{idx:21,x:765,y:325,name:"RND PULSE",input:!1},{idx:22,x:765,y:390,name:"S&H",input:!1},{idx:23,x:765,y:455,name:"NOISE",input:!1},{idx:24,x:831,y:260,name:"EG1 ATTACK CV",input:!0},{idx:25,x:831,y:325,name:"EG1 DECAY CV",input:!0},{idx:26,x:831,y:390,name:"EG1 TRIGG",input:!0},{idx:27,x:831,y:455,name:"EG1 OUT",input:!1},{idx:28,x:897,y:260,name:"EG2 ATTACK CV",input:!0},{idx:29,x:897,y:325,name:"EG2 DECAY CV",input:!0},{idx:30,x:897,y:390,name:"EG2 TRIGG",input:!0},{idx:31,x:897,y:455,name:"EG2 OUT",input:!1},{idx:32,x:962,y:260,name:"LPG1 CV1",input:!0},{idx:33,x:962,y:325,name:"LPG1 CV2",input:!0},{idx:34,x:962,y:390,name:"LPG1 IN",input:!0},{idx:35,x:962,y:455,name:"LPG1 OUT",input:!1},{idx:36,x:1028,y:260,name:"LPG2 CV1",input:!0},{idx:37,x:1028,y:325,name:"LPG2 CV2",input:!0},{idx:38,x:1028,y:390,name:"LPG2 IN",input:!0},{idx:39,x:1028,y:455,name:"LPG2 OUT",input:!1},{idx:40,x:1094,y:325,name:"BBD TIME CV",input:!0},{idx:41,x:1094,y:390,name:"BBD IN",input:!0},{idx:42,x:1094,y:455,name:"BBD OUT",input:!1},{idx:43,x:1160,y:260,name:"MIX2 IN 1",input:!0},{idx:44,x:1160,y:325,name:"MIX2 IN 2",input:!0},{idx:45,x:1160,y:390,name:"MIX2 IN 3",input:!0},{idx:46,x:1160,y:455,name:"MIX2 OUT",input:!1},{idx:47,x:1226,y:260,name:"MIX3 IN 1",input:!0},{idx:48,x:1226,y:325,name:"MIX3 IN 2",input:!0},{idx:49,x:1226,y:390,name:"MIX3 OUT",input:!1},{idx:50,x:1226,y:455,name:"MIX3 SUM OUT",input:!1},{idx:51,x:1226,y:65,name:"MASTER OUT (STEREO)",input:!1}],connectorOptions:{cellRadius:18,cableWidth:8},knobs:[{idx:0,x:438,y:67,type:"small",name:"SEQ 1"},{idx:1,x:438,y:135,type:"small",name:"SEQ 2"},{idx:2,x:438,y:207,type:"small",name:"SEQ 3"},{idx:3,x:438,y:275,type:"small",name:"SEQ 4"},{idx:4,x:505,y:67,type:"small",name:"TUNE 1"},{idx:5,x:505,y:130,type:"small",name:"PWM"},{idx:6,x:569,y:67,type:"small",name:"EXP FM"},{idx:7,x:569,y:128,type:"small",name:"LIN FM"},{idx:8,x:569,y:195,type:"small",name:"VCA OFFS"},{idx:9,x:635,y:67,type:"small",name:"TUNE 2"},{idx:10,x:635,y:130,type:"small",name:"SHAPE"},{idx:11,x:701,y:67,type:"small",name:"MIX1 LVL 1"},{idx:12,x:701,y:130,type:"small",name:"MIX1 LVL 2"},{idx:13,x:701,y:195,type:"small",name:"MIX1 LVL 3"},{idx:14,x:766,y:67,type:"small",name:"RATE"},{idx:15,x:832,y:65,type:"small",name:"EG1 ATTACK"},{idx:16,x:832,y:130,type:"small",name:"EG1 DECAY"},{idx:17,x:898,y:65,type:"small",name:"EG2 ATTACK"},{idx:18,x:898,y:130,type:"small",name:"EG2 DECAY"},{idx:19,x:963,y:65,type:"small",name:"LPG1 OFFSET"},{idx:20,x:963,y:129,type:"small",name:"LPG1 RESO"},{idx:21,x:1030,y:65,type:"small",name:"LPG2 OFFSET"},{idx:22,x:1030,y:129,type:"small",name:"LPG2 RESO"},{idx:23,x:1095,y:65,type:"small",name:"BBD TIME"},{idx:24,x:1095,y:129,type:"small",name:"BBD FDK"},{idx:25,x:1095,y:195,type:"small",name:"BBD DRY/WET"},{idx:26,x:1162,y:65,type:"small",name:"MIX2 LVL 1"},{idx:27,x:1162,y:129,type:"small",name:"MIX2 LVL 2"},{idx:28,x:1162,y:195,type:"small",name:"MIX2 LVL 3"},{idx:29,x:1228,y:129,type:"small",name:"MIX3 LVL 1"},{idx:30,x:1228,y:195,type:"small",name:"MIX3 LVL 2"}],knobTypes:{small:{radius:25,limit:280}},toggles:[{idx:0,x:416,y:322,type:"horizthree",name:"SEQ STEPS"},{idx:1,x:475,y:173,type:"vertthree",name:"VCO1 OCT"},{idx:2,x:604,y:173,type:"vertthree",name:"VCO2 OCT"},{idx:3,x:797,y:173,type:"verttwo",name:"EG1 LOOP/FREE"},{idx:4,x:862,y:173,type:"verttwo",name:"EG2 LOOP/FREE"},{idx:5,x:945,y:173,type:"verttwo",name:"LPG1 VCA/VCF"},{idx:6,x:1010,y:173,type:"verttwo",name:"LPG2 VCA/VCF"},{idx:7,x:1072,y:240,type:"horizthree",name:"SEQ STEPS"}],toggleOptions:{types:{horiztwo:{values:["left","right"]},horizthree:{values:["left","centerhor","right"]},verttwo:{values:["up","down"]},vertthree:{values:["up","center","down"]}},width:40,height:40},initialValues:{knobValues:Array(31).fill(140),toggleValues:Array(8).fill(0)},images:{panel:"/images/pico-iii/pico-iii-front.png",knobs:{small:"/images/pico-iii/pico-iii-knob-small.png"},toggles:{up:"/images/pico-iii/pico-iii-switch-up.png",down:"/images/pico-iii/pico-iii-switch-down.png",right:"/images/pico-iii/pico-iii-switch-right.png",left:"/images/pico-iii/pico-iii-switch-left.png",center:"/images/pico-iii/pico-iii-switch-center.png",centerhor:"/images/pico-iii/pico-iii-switch-center-hor.png"}}};var bn={"behringer-neutron":Xt,"moog-dfam":Qt,"moog-mother-32":en,"behringer-model-d":rn,"make-noise-0-coast":xn,"behringer-crave":hn,"erica-pico-iii":En};function Cn(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Sn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tn(e){return("0"+e.toString(16)).substr(-2)}var In=function(e,t){return Object.assign.apply(Object,[{}].concat(Sn(e.map(function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e[t],e)}))))},An=["#ff3366","#ff6633","#FFCC33","#33FF66","#33FFCC","#33CCFF","#3366FF","#6633FF","#CC33FF","#efefef"],Ln=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.querySelector("canvas[data-device='rack']"),this.ctx=this.canvas.getContext("2d"),this.cableCanvas=document.querySelector("canvas[data-device='cables'"),this.cableCtx=this.cableCanvas.getContext("2d"),this.availableDevicesSelect=document.querySelector("select[name=available-devices]"),this.addDeviceButton=document.querySelector("#add-device"),this.selectedDevicesSelect=document.querySelector("select[name=selected-devices]"),this.removeDeviceButton=document.querySelector("#remove-device"),this.renameDeviceButton=document.querySelector("#rename-device"),this.moveUpButton=document.querySelector("#move-up"),this.moveDownButton=document.querySelector("#move-down"),this.availableDevices=t.availableDevices||{},this.selectedDevices=[],this.devicesInfo=Object.entries(this.availableDevices).map(function(e,t){var n=vn(e,2);n[0];return n[1].info}),this.devicesInfoObject=In(this.devicesInfo,"key"),this.devices={},this.connections=[],this.cableColors=An,this.lastCableColorIdx=0,this.dragging=!1,this.dragFromDevice,this.dragFromIdx,this.dragFromInput=!1,this.dragColor,this.dragToX,this.dragToY,this.dragToDevice,this.dragToIdx,this.patchCableOutput=document.getElementById("patch-cable-output"),this.patchCableData=document.getElementById("patch_data"),this.savePatchButton=document.getElementById("save-patch"),this.patchTitleInput=document.getElementById("patch_title"),this.patchAuthorInput=document.getElementById("patch_author"),this.patchNotesInput=document.getElementById("patch_notes"),this.patchTagsInput=document.getElementById("patch_tags"),this.addAllEventListeners(),this.loadPatchData(),this.updatePatchCableOutput(),this.layoutChanged()}return function(e,t,n){t&&Vn(e.prototype,t),n&&Vn(e,n)}(e,[{key:"requestRedraw",value:function(){var e=this;this.raf=window.requestAnimationFrame(function(){return e.draw()})}},{key:"draw",value:function(){this.drawDevices(),this.drawConnections()}},{key:"drawDevices",value:function(){var e=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),Object.keys(this.selectedDevices).forEach(function(t){e.selectedDevices[t].panel.draw()})}},{key:"drawConnections",value:function(){var e=this;if(this.cableCtx.clearRect(0,0,this.cableCanvas.width,this.cableCanvas.height),this.connections.forEach(function(t){return e.drawConnection(t)}),this.dragging){var t=this.selectedDevices.find(function(t){return t.id==e.dragFromDevice}),n=this.devicesInfoObject[t.type].connectors[this.dragFromIdx],i={x:this.dragToX,y:this.dragToY};this.drawCable(n,t.panel.offsetY,i,0,this.dragColor),this.requestRedraw()}}},{key:"drawConnection",value:function(e){var t=this.selectedDevices.find(function(t){return t.id==e.fromDevice}),n=t.panel.connectors[e.from],i=this.selectedDevices.find(function(t){return t.id==e.toDevice}),o=i.panel.connectors[e.to];this.drawCable(n,t.panel.offsetY,o,i.panel.offsetY,e.color)}},{key:"drawCable",value:function(e,t,n,i,o){this.cableCtx.save(),this.cableCtx.beginPath(),this.cableCtx.strokeStyle=o,this.cableCtx.lineWidth=6,this.cableCtx.moveTo(e.x,e.y+t);var a=Math.abs(e.x-n.x),r=Math.min(e.x,n.x)+a/2,s=Math.max(e.y+t,n.y+i)+160;this.cableCtx.quadraticCurveTo(r,s,n.x,n.y+i),this.cableCtx.stroke(),this.cableCtx.restore()}},{key:"findConnector",value:function(e){var t=this,n=!1;return Object.keys(this.selectedDevices).forEach(function(i){var o,a=t.selectedDevices[i];(o=a.panel.isOverConnector(e))&&(n={device:a,connector:o})}),n}},{key:"onDeviceChange",value:function(e){this.updatePatchCableOutput()}},{key:"onMouseDown",value:function(e){var t=this.getMousePos(this.canvas,e),n=this.findConnector(t);if(n){var i=n.device,o=n.connector;this.dragging=!0,this.dragFromDevice=i.id,this.dragFromIdx=o.idx,this.dragFromInput=o.input,this.dragToX=t.x,this.dragToY=t.y,this.dragColor=this.nextCableColor(),this.requestRedraw()}}},{key:"onMouseMove",value:function(e){if(this.dragging){var t=this.getMousePos(this.canvas,e);this.dragToX=t.x,this.dragToY=t.y}}},{key:"onMouseUp",value:function(e){var t=this;if(this.dragging){var n={x:this.dragToX,y:this.dragToY},i=this.findConnector(n);if(i){var o=i.device,a=i.connector;a.input;if(this.dragFromInput!=a.input){var r=this.connections.findIndex(function(e){return e.fromDevice===t.dragFromDevice&&e.from===t.dragFromIdx&&e.toDevice===o.id&&e.to===a.idx||e.fromDevice===o.id&&e.from===a.idx&&e.toDevice===t.dragFromDevice&&e.to===t.dragFromIdx});r>-1?this.connections.splice(r,1):a.input?this.connections.push({fromDevice:this.dragFromDevice,from:this.dragFromIdx,toDevice:o.id,to:a.idx,color:this.dragColor}):this.connections.push({fromDevice:o.id,from:a.idx,toDevice:this.dragFromDevice,to:this.dragFromIdx,color:this.dragColor}),this.updatePatchCableOutput()}}this.dragging=!1}}},{key:"addAllEventListeners",value:function(){var e=this;this.canvas.onselectstart=function(){return!1},this.addDeviceButton&&(this.addDeviceButton.addEventListener("click",function(t){var n=e.availableDevicesSelect.options[e.availableDevicesSelect.selectedIndex];if(!n)return!1;e.addDevice(n.value,n.innerHTML),t.preventDefault()}),this.removeDeviceButton.addEventListener("click",function(t){var n=e.selectedDevicesSelect.options[e.selectedDevicesSelect.selectedIndex];if(!n)return!1;e.removeDevice(n.value),t.preventDefault()}),this.moveUpButton.addEventListener("click",function(t){var n=e.selectedDevicesSelect.options[e.selectedDevicesSelect.selectedIndex];if(!n)return!1;e.moveDeviceUp(n.value),t.preventDefault()}),this.moveDownButton.addEventListener("click",function(t){var n=e.selectedDevicesSelect.options[e.selectedDevicesSelect.selectedIndex];if(!n)return!1;e.moveDeviceDown(n.value),t.preventDefault()}),this.renameDeviceButton.addEventListener("click",function(t){var n=e.selectedDevicesSelect.options[e.selectedDevicesSelect.selectedIndex];if(!n)return!1;e.renameDevice(n.value),t.preventDefault()})),this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this),!1),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this),!1),this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this),!1),document.body.addEventListener("touchstart",function(t){t.target==e.canvas&&t.preventDefault()},{passive:!1}),document.body.addEventListener("touchend",function(t){t.target==e.canvas&&t.preventDefault()},{passive:!1}),document.body.addEventListener("touchmove",function(t){t.target==e.canvas&&t.preventDefault()},{passive:!1})}},{key:"addDevice",value:function(e,t){var n=function(e){var t=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(t),Array.from(t,Tn).join("")}(8),i={type:e,id:n,name:"",collapsed:!1,panel:new this.availableDevices[e]({deviceId:n,deviceChanged:this.onDeviceChange.bind(this)})};this.selectedDevices.push(i),this.layoutChanged(),this.selectedDevicesSelect.selectedIndex=this.selectedDevices.length-1}},{key:"removeDevice",value:function(e){var t=this.selectedDevices.findIndex(function(t){return t.id===e});t>=0&&confirm("Are you sure you want to remove the device?")&&(this.connections=this.connections.filter(function(t){return t.fromDevice!==e&&t.toDevice!==e}),this.selectedDevices[t].panel.removeAllEventListeners(),this.selectedDevices.splice(t,1),this.layoutChanged())}},{key:"renameDevice",value:function(e){var t=this.selectedDevices.find(function(t){return t.id===e}),n=prompt("Rename device",t.name);if(null!==n){t.name=n.trim(),this.layoutChanged();var i=this.selectedDevices.findIndex(function(t){return t.id===e});this.selectedDevicesSelect.selectedIndex=i}}},{key:"moveDeviceUp",value:function(e){var t=this.selectedDevices.findIndex(function(t){return t.id===e});if(t>0){var n=[this.selectedDevices[t],this.selectedDevices[t-1]];this.selectedDevices[t-1]=n[0],this.selectedDevices[t]=n[1],this.layoutChanged(),this.selectedDevicesSelect.selectedIndex=t-1}}},{key:"moveDeviceDown",value:function(e){var t=this.selectedDevices.findIndex(function(t){return t.id===e});if(t>=0&&t<this.selectedDevices.length-1){var n=[this.selectedDevices[t],this.selectedDevices[t+1]];this.selectedDevices[t+1]=n[0],this.selectedDevices[t]=n[1],this.layoutChanged(),this.selectedDevicesSelect.selectedIndex=t+1}}},{key:"layoutChanged",value:function(){this.updateSelectedDevicesSelect(),this.updatePatchCableOutput(),this.resizeCanvas(),this.updateDevicesOffset(),this.requestRedraw()}},{key:"updateSelectedDevicesSelect",value:function(){var e=this;if(this.selectedDevicesSelect){for(var t=this.selectedDevicesSelect.children.length-1;t>=0;t--)this.selectedDevicesSelect.removeChild(this.selectedDevicesSelect.children[t]);this.selectedDevices.forEach(function(t){return e.addDeviceOption(t)})}}},{key:"addDeviceOption",value:function(e){var t=document.createElement("option");t.value=e.id,t.innerHTML=e.panel.name+" "+e.name,this.selectedDevicesSelect.appendChild(t)}},{key:"resizeCanvas",value:function(){var e=this,t=this.selectedDevices.map(function(t){return e.availableDevices[t.type].info}).reduce(function(e,t){return e+t.canvasHeight},0);this.canvas.height=t,this.cableCanvas.height=t}},{key:"updateDevicesOffset",value:function(){var e=0;this.selectedDevices.forEach(function(t){t.panel.offsetY=e,e+=t.panel.canvasHeight})}},{key:"updatePatchCableOutput",value:function(){var e=this;if(this.patchCableOutput&&(this.patchCableOutput.innerHTML=this.connections.map(function(t){var n=e.selectedDevices.find(function(e){return e.id===t.fromDevice}),i=n.panel.connectors[t.from],o=e.selectedDevices.find(function(e){return e.id===t.toDevice}),a=o.panel.connectors[t.to],r=t.color;return"[".concat(n.panel.name," ").concat(n.name,"] ").concat(i.name,'<span style="color: ').concat(r,'"> &#10230; </span>[').concat(o.panel.name," ").concat(o.name,"] ").concat(a.name)}).join("<br/>")),this.patchCableData){var t={devices:this.selectedDevices.map(function(e){var t=e.panel,n=Cn(e,["panel"]);return n.values=t.getValues(),n}),connections:this.connections,knobValues:this.knobValues,buttonValues:this.buttonValues,toggleValues:this.toggleValues,lightValues:this.lightValues};this.patchCableData.value=JSON.stringify(t)}}},{key:"loadPatchData",value:function(){var e=this;if(this.patchCableData&&""!=this.patchCableData.value&&"{}"!=this.patchCableData.value){var t=JSON.parse(this.patchCableData.value);this.selectedDevices=t.devices,this.selectedDevices.forEach(function(t){t.panel=new e.availableDevices[t.type]({deviceId:t.id,initialValues:t.values,deviceChanged:e.onDeviceChange.bind(e)})}),this.connections=t.connections}}},{key:"loadImages",value:function(e){var t=this,n={};for(var i in e)if(e.hasOwnProperty(i))if("string"==typeof e[i])n[i]=new Image,n[i].addEventListener("load",function(){return t.requestRedraw()}),n[i].src=e[i];else for(var o in n[i]=n[i]||{},e[i])e[i].hasOwnProperty(o)&&(n[i][o]=new Image,n[i][o].addEventListener("load",function(){return t.requestRedraw()}),n[i][o].src=e[i][o]);return n}},{key:"getMousePos",value:function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}},{key:"getTouchPos",value:function(e,t){var n=e.getBoundingClientRect();return{x:t.touches[0].clientX-n.left,y:t.touches[0].clientY-n.top}}},{key:"nextCableColor",value:function(){return this.lastCableColorIdx=++this.lastCableColorIdx%this.cableColors.length,this.cableColors[this.lastCableColorIdx]}}]),e}();document.querySelectorAll("canvas#front-panel").forEach(function(e){var t=e.dataset.device;t&&Rt[t]&&new Rt[t]}),document.querySelectorAll(".row-rack").forEach(function(e){new Ln({availableDevices:bn})}),document.querySelectorAll('input[type="tags"]').forEach(d)},function(e,t,n){"use strict";!function(){var e=function(){if("function"==typeof window.CustomEvent)return window.CustomEvent;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return e.prototype=window.Event.prototype,e}();function t(e,t){var n=document.createElement("input");return n.type="hidden",n.name=e,n.value=t,n}function n(e){var n=e.getAttribute("data-to"),i=t("_method",e.getAttribute("data-method")),o=t("_csrf_token",e.getAttribute("data-csrf")),a=document.createElement("form"),r=e.getAttribute("target");a.method="get"===e.getAttribute("data-method")?"get":"post",a.action=n,a.style.display="hidden",r&&(a.target=r),a.appendChild(o),a.appendChild(i),document.body.appendChild(a),a.submit()}window.addEventListener("click",function(t){for(var i=t.target;i&&i.getAttribute;){var o=new e("phoenix.link.click",{bubbles:!0,cancelable:!0});if(!i.dispatchEvent(o))return t.preventDefault(),!1;if(i.getAttribute("data-method"))return n(i),t.preventDefault(),!1;i=i.parentNode}},!1),window.addEventListener("phoenix.link.click",function(e){var t=e.target.getAttribute("data-confirm");t&&!window.confirm(t)&&e.preventDefault()},!1)}()},function(e,t,n){},function(e,t,n){e.exports=n(0)}]);